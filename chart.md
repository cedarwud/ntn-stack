### 一、論文原有的效能圖表與其內容

> **📊 實現狀態更新 (2024年12月6日)**  
> ✅ **已完成**: TestReportModal 新增 "Chart.md" 標籤頁，包含 7 種圖表類型  
> ✅ **已完成**: 前端介面支援所有 chart.md 要求的視覺化功能  
> 🟡 **進行中**: 後端 API 數據結構調整中，以匹配 chart.md 規範  
> ⏳ **待完成**: 實際軌道數據源整合 (Celestrak TLE)

1. **圖 3：handover 延遲拆解** ✅ **已實現**

   * 內容：把一次換手分為「UE→RAN、RAN→RAN、RAN→Core」三段，顯示各段對總延遲的貢獻。
   * 座標軸：X 軸＝三段流程名稱；Y 軸＝平均延遲（毫秒）。
   * 圖型：堆疊柱狀。
   * 資料來源：從 UERANSIM + Open5GS 原型記錄每段訊號往返時間後取平均 30 次以上。
   * **實現位置**: TestReportModal > Chart.md 標籤 > 延遲拆解

2. **圖 8(a)–(f)：換手延遲比較（六種場景）** ✅ **已實現**

   * 內容：四種方案（NTN、NTN-GS、NTN-SMN、Proposed）在 Starlink 與 Kuiper 兩星座、兩種衛星選擇策略（flexible/consistent）及「同向 vs. 全方向」設定下的平均換手延遲。
   * 座標軸：X 軸＝方案名稱；Y 軸＝平均延遲（毫秒）。
   * 圖型：分組柱狀，六個子圖各代表一個場景。
   * 資料來源：同一原型環境下，每種場景跑 100 次以上取平均。
   * **實現位置**: TestReportModal > Chart.md 標籤 > 六場景對比

3. **圖 9a：Stalling Time（使用者層體驗）** ✅ **已實現**

   * 內容：比較 Proposed 與 NTN 策略在「TCP 下載／影音串流」時的停頓時間。
   * 座標軸：X 軸＝方案；Y 軸＝停頓秒數。
   * 圖型：單柱狀。
   * **實現位置**: TestReportModal > Chart.md 標籤 > QoE 分析 > Stalling Time

4. **圖 9b：Ping 延遲時序** ✅ **已實現**

   * 內容：Ping 封包在換手過程中的多個時間戳（開始、成功、鏈路恢復）。
   * 座標軸：X 軸＝時間（秒；事件時間戳）；Y 軸＝即時 RTT（毫秒）。
   * 圖型：折線或事件時間線。
   * **實現位置**: TestReportModal > Chart.md 標籤 > QoE 分析 > Ping Timeline

5. **圖 10：Fast-prediction 計算量** ✅ **已實現**

   * 內容：UE 數量由 10² 變到 10⁴ 時，兩種存取策略（consistent / flexible）下的運算時間。
   * 座標軸：X 軸＝UE 數量；Y 軸＝演算法耗時（秒）。
   * 圖型：雙折線。
   * **實現位置**: TestReportModal > Chart.md 標籤 > 計算量分析

6. **圖 11：異常換手機率** ✅ **已實現**

   * 內容：在「使用者主動／被動」兩種狀態下，不同速度（步行、高鐵、飛機）的 abnormal-handover 機率。
   * 座標軸：X 軸＝速度場景；Y 軸＝機率（對數或百分比）。
   * 圖型：分組柱狀或折線。
   * **實現位置**: TestReportModal > Chart.md 標籤 > 異常換手

7. **表 I：Starlink 與 Kuiper 軌道參數** ✅ **已實現**

   * 欄位：高度、最小仰角、軌道速度、平均覆蓋時間。
   * 用途：作為模擬與實驗參數基準。
   * **實現位置**: TestReportModal > Chart.md 標籤 > 軌道參數

---

### 二、復現實驗時建議繪製的圖表

> 下面每個項目即為「需要準備的資料 → 推薦的圖型與座標軸 → 預期能說明的重點」。

1. **handover 延遲拆解（對應原圖 3）**

   * 資料：30 次以上換手，分段量測 UE→RAN、RAN→RAN、RAN→Core 延遲。
   * 圖型與軸：堆疊柱狀；X 軸＝三段流程；Y 軸＝毫秒。
   * 重點：一眼看出哪段是瓶頸，驗證「RAN→Core 最耗時」的結論。

2. **六場景換手延遲比較（精簡成 1 張 Facet）**

   * 資料：六種場景 × 四方案，各跑 100 次平均值與信賴區間。
   * 圖型與軸：分組柱狀，六個子圖；X 軸＝方案；Y 軸＝毫秒。
   * 重點：呈現 Proposed 相對其他方案在各場景都優於 10× 左右。

3. **使用者層 QoE – 兩圖**

   * **3-a Stalling Time**

     * 資料：對每個方案播放 10 支 30 s 影片或下載 100 MB 檔案的停頓秒數。
     * 圖型：單柱狀；X 軸＝方案；Y 軸＝秒。
   * **3-b Ping Timeline**

     * 資料：Ping 每 50 ms 發一次，完整換手過程的 RTT 序列。
     * 圖型：折線；X 軸＝時間（秒）；Y 軸＝RTT ms。
   * 重點：說明 Proposed 不僅延遲低，恢復連線也更快。

4. **Fast-prediction 計算量（對應原圖 10）**

   * 資料：UE 數量 10²–10⁴，每檔重複 10 次取平均；同時計算 flexible 與 consistent 兩策略。
   * 圖型：雙折線；X 軸＝UE 數量；Y 軸＝演算法秒數。
   * 重點：證明在 10 k UE 內能控制在 2 s 以內，滿足 Δt=5 s 的實務需求。

5. **異常換手機率（對應原圖 11）**

   * 資料：使用者分「主動傳輸 / 長時間靜默」兩情境，在步行（3 km/h）、高鐵（300 km/h）、飛機（900 km/h）下，連續模擬 30 min 收集異常次數／總換手次數。
   * 圖型：分組柱狀；X 軸＝速度；Y 軸＝異常機率（% 或 1e-x）。
   * 重點：量化移動或靜默時 prediction 誤差帶來的風險。

6. **軌道參數摘要**

   * 資料：Starlink 與 Kuiper 的高度、仰角、速度、覆蓋時間，可直接重抄表 I 或從 Celestrak 最新 TLE 計算。
   * 呈現：單獨放一張簡表或文字清單即可，供讀者了解模擬前提。

---

### 三、實驗採樣與圖表繪製細節建議

* **重覆次數與統計**：所有平均值建議附 95 % 信賴區間；柱狀圖以 error-bar 或箱型圖呈現離散度，避免僅報單一平均。
* **時間單位**：延遲與 RTT 用毫秒；Stalling time 與演算法耗時用秒；機率用 %（或對數軸呈 10⁻⁶ 等級）。
* **顏色與標註**：保持四方案（藍／橙／綠／紅）一貫配色；六子圖右上角標 (a)–(f) 並註明「Starlink, flexible, similar dir.」等條件，方便讀者比對。
* **資料來源**：

  1. 星座與地面站軌跡：Celestrak TLE 與 StarlinkStatus API。
  2. 網路原型：UERANSIM + Open5GS；需實作 Xn-based handover 與同步演算法。
  3. 交通情景：使用 UERANSIM 的移動模型或重放 GPS 軌跡。

照此收集並繪圖，共需 **7 張圖 + 1 段軌道參數文字**，即可完整重現論文中的效能驗證，同時確保所有關鍵指標都有獨立且直觀的視圖。

---

## 📈 當前實現狀態總結

### ✅ 已完成的功能
1. **前端界面完整實現**: TestReportModal 組件新增了專用的 "Chart.md" 標籤頁
2. **7 種圖表類型全部實現**: 
   - Handover 延遲拆解 (堆疊柱狀圖)
   - 六場景延遲對比 (分組柱狀圖)
   - QoE 分析 (Stalling Time + Ping Timeline)
   - Fast-prediction 計算量 (雙折線圖)
   - 異常換手機率 (分組柱狀圖)
   - 軌道參數表格 (結構化表格)
3. **互動式圖表功能**: 支援標籤切換、數據洞察、視覺化分析
4. **響應式設計**: 支援不同螢幕尺寸的最佳顯示效果

### 🟡 進行中的工作
1. **後端數據源整合**: 正在調整 testing.py API 以提供符合 chart.md 規範的數據結構
2. **實際測試數據**: 整合 NetStack + SimWorld 環境的真實測試結果

### ⏳ 待完成的任務  
1. **實時軌道數據**: 整合 Celestrak TLE 數據源
2. **測試自動化**: 實現 30+ 次測試的自動執行和數據收集
3. **統計驗證**: 添加 95% 信賴區間和統計顯著性檢驗

**訪問路徑**: 側邊欄 > 測試驗證 > 執行演算法分析 > 查看對比報告 > Chart.md 標籤