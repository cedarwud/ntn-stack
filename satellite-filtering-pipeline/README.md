# 🛰️ 衛星篩選與預處理管道開發計畫

**文件版本**: 1.0.0  
**建立日期**: 2025-08-01  
**狀態**: 規劃中

## 📋 專案概述

本專案旨在建立一個多層次的衛星篩選和預處理系統，以支援三個主要用途：
1. **3D 立體圖動畫渲染** - 高效能即時視覺化
2. **換手事件圖表展示** - 完整軌道週期分析
3. **45 天強化學習訓練** - 高品質數據集準備

## 🎯 核心目標

- **統一數據源** - 確保所有用途使用相同的原始數據
- **分層篩選** - 根據不同用途需求進行智能篩選
- **單一預處理** - 統一的預處理管道支援所有事件類型
- **性能優化** - 平衡數據品質與系統性能

## 📁 文件結構

```
satellite-filtering-pipeline/
├── README.md                           # 本文件
├── 01-zero-tolerance-filter.md         # 第一階段：零容忍篩選設計
├── 02-orbital-diversity-filter.md      # 第二階段：軌道多樣性篩選
├── 03-tier-classification.md           # 第三階段：用途分層分類
├── 04-unified-preprocessing.md         # 統一預處理管道設計
├── 05-handover-events.md              # 多種換手事件檢測
├── 06-implementation-plan.md           # 實施計畫與時程
├── 07-data-migration.md               # 數據遷移策略
└── 08-validation-testing.md           # 驗證與測試計畫
```

## 🔄 開發流程

### Phase 1: 基礎架構 (已完成 ✅)
- [x] 零容忍 RL 篩選系統設計與實施
- [x] 從 8,044 顆 Starlink 篩選至 1,707 顆
- [x] 從 651 顆 OneWeb 全部保留
- [x] 總計 2,358 顆高品質衛星

### Phase 2: 軌道多樣性篩選 (待開發 🚧)
- [ ] 實施軌道平面分群算法
- [ ] 設計品質評分指標
- [ ] 從 2,358 顆篩選至 500 顆
- [ ] 確保時間覆蓋均勻性

### Phase 3: 用途分層標記 (待開發 📋)
- [ ] Tier 1: 3D 可視化 (20 顆)
- [ ] Tier 2: 圖表展示 (80 顆)
- [ ] Tier 3: RL 訓練 (500 顆)
- [ ] 實施分層標記系統

### Phase 4: 統一預處理擴展 (待開發 🔧)
- [ ] 擴展支援 D1 事件檢測
- [ ] 擴展支援 A4 事件檢測
- [ ] 擴展支援 T1 事件檢測
- [ ] 統一輸出格式設計

## 🛠️ 技術架構

### 篩選層次架構
```
原始 TLE 數據 (8,695 顆)
    ↓
第一階段：零容忍篩選 (2,358 顆)
    ↓
第二階段：軌道多樣性篩選 (500 顆)
    ↓
第三階段：用途分層標記
    ├── Tier 1: 3D 動畫 (20 顆)
    ├── Tier 2: 圖表展示 (80 顆)
    └── Tier 3: RL 訓練 (500 顆)
```

### 預處理統一管道
```
輸入：篩選後的衛星數據
    ↓
處理：
- SGP4 軌道傳播
- MRL 距離計算
- D2/D1/A4/T1 事件檢測
- 軌道插值數據
    ↓
輸出：統一 JSON 格式
```

## 📊 預期成果

| 指標 | 當前 | 目標 | 改善 |
|------|------|------|------|
| 3D 渲染衛星數 | 40 | 20 | -50% |
| 圖表展示衛星數 | 40 | 80 | +100% |
| RL 訓練衛星數 | 40 | 500 | +1150% |
| 預處理時間 | 單一 | 統一 | 維持 |
| 數據一致性 | 部分 | 100% | 完全 |

## 🚀 快速開始

1. 閱讀各個設計文件了解詳細規劃
2. 按照實施計畫進行開發
3. 使用驗證測試確保品質
4. 參考數據遷移策略進行部署

## ⚠️ 注意事項

- 所有開發必須遵循 `/home/sat/ntn-stack/CLAUDE.md` 規範
- 數據真實性原則：軌道動力學必須使用真實數據
- 中文文件編碼：使用 UTF-8 編碼
- API 統一配置：避免硬編碼 URL

## 📚 相關文檔

- [衛星數據架構](../docs/satellite_data_architecture.md)
- [衛星換手標準](../docs/satellite_handover_standards.md)
- [技術文檔中心](../docs/README.md)

---

**開發團隊**: NTN Stack 衛星通訊系統  
**聯絡方式**: 請參考專案 README
