# Open5GS 與 UERANSIM 整合、測試與系統擴展計劃

## 一、基礎 5G 網絡功能擴展

### 1. Open5GS 核心網優化配置

**目的**：優化 Open5GS 配置以支持 NTN(非地面網絡)通信場景，重點關注信令時延、會話管理和 QoS。

**專案目標關聯**：
本項目與「完成一套可部署於 30 km 營級作戰範圍的 Two-Tier BLOS 通訊系統」直接相關。衛星通信場景與標準地面 5G 網絡有根本差異：單向延遲達 20-50 毫秒（地面僅 1-5 毫秒）、信號強度和頻率偏移變化劇烈、覆蓋範圍和切換速度差異巨大。若使用未經優化的標準 Open5GS 配置，在 NTN 環境將導致連接超時、會話中斷和性能顯著降低。

**方法**：

-   修改 Open5GS 配置文件，調整 AMF、SMF 和 UPF 參數
-   實現自定義 QoS 策略控制，支持軍事應用中不同優先級任務
-   配置網絡切片支持多種業務場景，如控制信令和數據傳輸分離

**步驟**：

1. 分析現有 Open5GS 配置，識別需要調整的參數
2. 針對衛星通信的高延遲特性，增加信令超時閾值（特別是 AMF 中的 N1/N2 計時器）
3. 在 SMF 中實現 QoS 策略，支持優先級流量管理，確保關鍵指令優先傳輸
4. 配置至少兩個網絡切片：高優先級控制信令和普通數據業務
5. 編寫配置自動化腳本，便於不同場景切換（如地面測試和衛星連接）

**預期成果**：一個針對 NTN 場景優化的 Open5GS 配置模板，可適應不同延遲條件和任務需求。

**階段性意義與必要性**：
此優化是整個系統的基礎，若不完成，後續所有與 5G 相關的功能將在高延遲衛星環境中失效。它直接支持項目目標中的「NTN GW、AI-RAN 基地台、核網連結」需求，為 UAV 與衛星通信提供了可靠的網絡層保障。這是從標準 5G 向 NTN 5G 轉型的第一步，也是最關鍵的一步。

### 2. UERANSIM 動態配置機制

**目的**：實現 UERANSIM 的動態配置機制，使其能夠自動適應衛星軌道變化和 UAV 移動。

**專案目標關聯**：
專案核心是「UAV 群作為行動終端(NTN UE)」與「LEO 衛星作為空中 gNodeB/NTN 基地台」的通信。這兩個角色都具有高度移動性：OneWeb 衛星軌道週期約 100 分鐘，位置持續變化；UAV 按任務需求不斷移動。UERANSIM 原本設計為靜態配置模擬器，無法反映這種動態性，與項目目標中「真實場域與數位分身同步展示」的要求不符。

**方法**：

-   開發 FastAPI 接口動態生成 UERANSIM 配置，實現 GPT.md 中提到的「FastAPI 產生動態 UERANSIM cfg (gNodeB=衛星, UE=UAV)」
-   實現配置模板系統，支持快速替換關鍵參數
-   建立配置參數與衛星/UAV 位置的映射關係，實現物理世界移動到網絡配置的自動轉換

**步驟**：

1. 分析 UERANSIM 配置參數結構，識別與位置、信號強度相關的關鍵參數
2. 設計配置模板，包含可變參數佔位符，支持實時替換
3. 開發 FastAPI 端點`/api/v1/ueransim/config/generate`，根據 Skyfield 提供的衛星位置和 UAV 軌跡數據生成配置
4. 實現配置文件與 UERANSIM 容器的實時同步機制，確保網絡模型與物理位置保持一致
5. 測試配置生成和應用的延遲性能，確保能跟上高速移動物體的位置變化

**預期成果**：能夠在毫秒級響應時間內生成新配置並應用到 UERANSIM 實例，支持連續、平滑的位置更新。

**階段性意義與必要性**：
此機制是連接物理世界（衛星/UAV 位置）與網絡模型的關鍵橋樑。若不實現此功能，系統將無法模擬移動節點間的動態連接變化，也無法支持目標中提到的「透過 AI-RAN/抗干擾模組動態避干擾」，因為抗干擾策略需要實時調整無線參數。這一步驟使整個系統從靜態模擬轉變為動態模擬，大幅提升了模型的真實性和實用價值。

### 3. 5G 網絡監控系統整合

**目的**：實現對 5G 網絡各組件的實時監控，提供關鍵性能指標(KPI)的可視化。

**專案目標關聯**：
專案明確要求「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」，而 GPT.md 的技術棧中也明確提出使用「Prometheus + Grafana 收集 Sionna GPU 使用率、5G KPI」及「Loki 收集 UERANSIM/Open5GS log」。缺乏監控系統將使性能評估、問題診斷和系統驗證變得極其困難，尤其是在 30km 營級作戰範圍內的複雜通信場景。

**方法**：

-   整合 Prometheus 和 Grafana 收集 5G 核心網和 RAN 的指標
-   開發自定義指標采集器，特別關注 NTN 場景特有的性能參數
-   設計專用儀表板，直觀展示關鍵性能指標

**步驟**：

1. 配置 Open5GS 各組件輸出 Prometheus 格式指標，重點包括連接狀態、延遲和吞吐量
2. 開發 UERANSIM 指標采集器，提取信令和數據面 KPI，特別是無線介面的性能指標
3. 配置 Prometheus 服務器，定義刮擦(scraping)任務，設置合適的採樣頻率
4. 在 Grafana 中設計 5G 專用儀表板，包括：
    - 連接數和成功率，反映系統可靠性
    - 信令時延，特別是在衛星通信高延遲環境中
    - 數據吞吐量，評估有效數據傳輸能力
    - PDU 會話狀態，監控業務連續性
5. 配置告警規則，監控異常狀況，支持快速干預和恢復

**預期成果**：一套完整的 5G 網絡監控系統，能夠實時顯示網絡性能和健康狀況，支持量化評估和問題診斷。

**階段性意義與必要性**：
監控系統不僅是管理工具，也是驗證系統是否達到性能目標的關鍵手段。它直接支持 GPT.md 中提到的「M-12 (116 Q3): 戶外 5 km 驗測 + KPI 報告」里程碑。此外，監控數據是 AI-RAN 決策的重要輸入，沒有監控就無法實現「干擾避讓」功能。在實際部署前，這套監控系統將幫助解決各種性能和穩定性問題，大幅降低現場測試的風險和成本。

這三個基礎擴展組合起來，共同構建了實現 NTN 通信系統的底層基礎。它們解決了標準 5G 技術難以直接應用於衛星-UAV 通信場景的核心問題：高延遲適應(Open5GS 優化)、動態配置(UERANSIM 機制)和性能監控(監控系統整合)。沒有這些擴展，系統將無法支持 GPT.md 中描述的作戰級通信需求。

## 二、與衛星系統集成

### 4. 衛星位置轉換為 gNodeB 參數 ✅

**狀態**：✅ 已完成

**目的**：將 Skyfield 計算的衛星位置數據轉換為 gNodeB 配置參數，實現衛星作為 5G 基站的模擬。

**專案目標關聯**：
這項任務直接支持 G 核心目標「LEO 衛星作為空中 gNodeB/NTN 基地台」。Skyfield 作為衛星軌道計算工具提供 ECEF/ENU 座標系中的位置數據，但這些數據無法直接用於 5G 網絡模擬 - 需要將物理世界的衛星位置轉化為無線網絡模型中的基站參數。流程圖中明確指出：「Daemon 服務每 n 秒用 Skyfield 拉 OneWeb TLE」、「FastAPI 轉換成 ECEF/ENU」，並同步更新 UERANSIM gNB 位置，這正是本任務的核心任務。

**方法**：

-   開發坐標轉換庫，實現衛星 ECEF/ENU 坐標到無線通信參數的精確轉換
-   實現衛星參數與 gNodeB 參數的映射算法，考慮視角、波束覆蓋、功率和延遲等因素
-   建立事件驅動的配置更新機制，確保 gNodeB 配置能實時跟隨衛星移動而更新

**步驟**：

1. 開發坐標轉換函數，將 ECEF/ENU 坐標轉換為適合無線通信的參數，包括距離、方位角和仰角
2. 設計衛星與 gNodeB 的映射模型，包括：
    - 覆蓋區域計算，基於衛星高度和天線特性
    - 信號功率模型，考慮距離衰減和大氣影響
    - 天線波束模型，模擬衛星定向波束特性
3. 在 FastAPI 中實現`/api/v1/satellite-gnb/mapping`端點，為 UERANSIM 提供實時的 gNodeB 配置更新
4. 創建事件驅動系統，當衛星位置更新時自動更新 gNodeB 配置，確保模擬的連續性和平滑性
5. 在 Redis 中緩存轉換結果，提高系統響應性能，支持多個 UAV 同時訪問同一衛星信息

**已完成功能**：

✅ **Skyfield 軌道計算整合**：

-   整合 Skyfield 到 simworld 和 netstack，實現精確的衛星軌道計算
-   支援 TLE 數據處理和實時位置更新
-   實現 ECEF 坐標轉換和地理坐標映射

✅ **衛星映射服務**：

-   開發 `SatelliteGnbMappingService` 實現衛星位置到 gNodeB 參數轉換
-   支援多普勒效應計算和傳播延遲補償
-   實現動態波束覆蓋和功率控制參數生成

✅ **API 端點實現**：

-   `/api/v1/satellite-gnb/mapping` - 單個衛星位置轉換
-   `/api/v1/satellite-gnb/batch-mapping` - 批量衛星處理
-   `/api/v1/satellite-gnb/start-tracking` - 持續追蹤機制

✅ **UERANSIM 配置生成**：

-   自動生成 UERANSIM gNodeB 配置文件
-   支援 NTN 特性參數配置
-   實現配置的動態更新和部署

✅ **監控和緩存機制**：

-   Redis 緩存支援，提升性能
-   實時監控衛星位置變化
-   配置更新的事件驅動機制

**預期成果**：✅ 已實現 - 一個能夠實時將衛星軌道數據轉換為 gNodeB 配置的系統，準確反映衛星移動對無線通信參數的影響。

**階段性意義與必要性**：
這個轉換機制是連接天文學（衛星軌道）與通信工程（5G 網絡）兩個領域的關鍵橋樑。若不實現此功能，Skyfield 的軌道計算結果將無法用於 5G 網絡模擬，導致專案中「真實場域與數位分身同步展示」的核心需求無法實現。更重要的是，這個機制為後續的仿真提供了動態、連續的網絡拓撲模型，使 UAV 群能夠在模擬環境中感知真實衛星的可見性和信號強度變化，進而測試切換策略和抗干擾能力。這是從靜態網絡模型走向動態、物理感知網絡模型的第一步，為整個系統的真實性奠定了基礎。

### 5. OneWeb 衛星作為 gNodeB 的模擬 ✅

**狀態**：✅ 已完成

**目的**：使用 UERANSIM 模擬 OneWeb 衛星作為 NTN gNodeB 的行為，實現 5G NTN 場景。

**專案目標關聯**：
這項任務直接實現了核心目標「LEO 衛星作為空中 gNodeB/NTN 基地台」。OneWeb 作為具體的 LEO 衛星系統，其軌道高度、覆蓋特性和傳輸能力都需要在 UERANSIM 中進行特殊處理。表格中明確指出 LEO 衛星的角色：「依 Skyfield TLE 即時更新軌道」、「提供下行波束給 UAV 群」、「觸發 AI-RAN 及抗干擾控制邏輯」，這些功能都需要在 UERANSIM 中進行模擬和實現，以便與 5G 核心網進行 N2/N3 介面交互。

**方法**：

-   基於 Skyfield 的衛星軌道數據，實時更新模擬衛星 gNodeB 的位置和狀態
-   自定義 UERANSIM 以適應衛星通信特性，包括長延遲、多普勒效應和大範圍覆蓋
-   實現動態波束管理，使衛星能夠智能地將資源分配給移動中的 UAV

**步驟**：

1. 開發定期同步衛星軌道數據的後台服務，確保模擬 gNodeB 位置的實時更新
2. 基於軌道數據，計算關鍵無線參數：
    - 衛星對地覆蓋範圍，決定哪些 UAV 位於服務區域內
    - 信號延遲，包括傳播延遲和處理延遲的精確模型
    - 多普勒效應，模擬衛星高速移動對頻率的影響
3. 修改 UERANSIM 配置以適應衛星特性，包括：
    - 增加延遲容忍度，避免過早的連接超時
    - 調整無線資源管理參數，適應較大的小區範圍
    - 實現多普勒補償機制，確保頻率同步
4. 開發波束管理算法，根據 UAV 位置動態調整波束方向，最大化信號質量和覆蓋範圍
5. 實現 Prometheus 監控指標來跟踪衛星基站性能，特別是與地面基站的性能差異

**已完成功能**：

✅ **OneWeb 星座模擬**：

-   實現 `OneWebSatelliteGnbService` 完整的星座管理
-   支援 OneWeb Gen1 星座配置（648 顆衛星，18 個軌道面）
-   實現軌道傾角 87.4° 和高度 1200km 的精確模擬

✅ **動態軌道追蹤**：

-   實時軌道數據同步機制
-   支援多衛星並行追蹤
-   位置變化檢測和配置更新觸發

✅ **NTN 特性優化**：

-   多普勒偏移計算（最大 52.5 kHz）
-   傳播延遲補償（最大 10ms）
-   動態波束覆蓋計算（500km 服務半徑）
-   最小仰角限制（10°）

✅ **UERANSIM 整合**：

-   自動生成 OneWeb 專用 gNodeB 配置
-   支援 NTN 切片配置（高優先級、標準、低延遲）
-   動態配置文件更新和部署

✅ **API 端點實現**：

-   `/api/v1/oneweb/constellation/initialize` - 星座初始化
-   `/api/v1/oneweb/orbital-tracking/start` - 軌道追蹤啟動
-   `/api/v1/oneweb/constellation/status` - 星座狀態查詢
-   `/api/v1/oneweb/ueransim/deploy` - UERANSIM 配置部署

✅ **監控和管理**：

-   星座狀態實時監控
-   覆蓋區域動態計算
-   服務質量指標追蹤
-   異步任務管理和生命週期控制

**預期成果**：✅ 已實現 - 一個功能完備的衛星 gNodeB 模擬系統，能夠根據真實衛星軌道數據提供 NTN 連接，支持 UAV 在衛星覆蓋下的移動和通信。

**階段性意義與必要性**：
這項任務將標準地面 5G RAN 轉變為空天地一體化網絡的核心組件。若不實現此功能，整個「LEO 衛星作為空中 gNodeB」的目標將無法達成，使專案失去 NTN 特性，淪為普通地面網絡。衛星作為 gNodeB 的實現，不僅為 UAV 群提供了廣域覆蓋，也引入了通信系統必須面對的衛星特有挑戰：長延遲、多普勒效應、大範圍切換等。這些挑戰的解決方案直接驗證了系統在真實環境中的可行性，為 M-12 階段的「戶外 5 km 驗測」建立了必要的技術基礎。同時，這也是目標中「Two-Tier BLOS」架構的重要組成部分，代表了傳統通信向太空網絡的擴展。

## 三、與無線傳輸模擬整合

### 6. Sionna 無線通道模型與 UERANSIM 整合

**目的**：將 Sionna 的無線通道模擬結果應用於 UERANSIM，實現更真實的 5G 無線環境模擬。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「模擬無線通道」和「數位分身」目標。GPT.md 明確指出 Sionna 被用於「模擬無線通道」，而「FastAPI 觸發 GPU 任務讀 XML」「Sionna RT 產生光線追蹤結果+SINR/CSI」的流程正是此任務需要實現的核心功能。這種整合對實現「真實場域與數位分身同步展示」至關重要，因為它將物理層的電磁波傳播特性與協議層的 5G 網絡功能連接起來，使模擬環境能更準確地反映真實世界的無線傳播行為，包括多路徑效應、陰影衰落和阻塞等現象。

**方法**：

-   開發 Sionna 和 UERANSIM 間的數據轉換層，實現物理層模擬結果到網絡層參數的準確映射
-   實現基於物理層結果的 RAN 參數動態調整，使網絡行為能響應物理環境變化
-   開發無線通道狀態的實時回饋機制，形成從物理層到協議層再到應用層的閉環系統

**步驟**：

1. 分析 Sionna 輸出的通道模型數據結構，識別關鍵參數如路徑損耗、多徑分量、延遲擴散和角度擴散
2. 開發轉換函數，將 Sionna 的信道特性映射到 UERANSIM 的無線參數，如信噪比、信道質量指標和頻譜效率
3. 實現 FastAPI 端點`/api/v1/wireless/channel-to-ran`處理轉換，提供從 GPU 加速的 Sionna 模擬到 UERANSIM 的數據轉發
4. 為 UERANSIM 開發插件，使其能夠接收外部通道模型參數，而非使用內建的簡化通道模型
5. 實現定期同步機制，確保 UERANSIM 中的無線參數與 Sionna 模擬結果一致，反映 UAV 與衛星位置變化引起的通道變化
6. 開發測試腳本驗證端到端通道模擬到 RAN 參數的轉換，確保物理層和協議層一致性

**預期成果**：一個無縫集成的系統，將物理層通道模擬與 5G 協議層模擬連接起來，使 UERANSIM 能夠基於高精度的 Sionna 模擬結果運行，實現從射線追蹤到網絡性能的一體化模擬。

**階段性意義與必要性**：
此整合是「無線數位孿生」(Wireless Digital Twin)概念的核心實現。若不完成此項任務，系統將只能使用 UERANSIM 內建的高度簡化通道模型，無法反映複雜環境（如都市、山區、海上）中的真實電波傳播特性，導致系統可靠性評估偏離實際情況。特別是對於 NTN 場景，衛星通信的特殊通道特性（如雨衰、電離層影響）更需要精確模擬。這個任務直接支持 GPT.md 中 M-6 階段的「Sionna RT + 衛星通道」里程碑，為後續的干擾避免和抗干擾測試提供不可或缺的物理基礎。更重要的是，這是將電磁波物理特性引入系統的唯一途徑，使模擬更接近真實部署環境，降低後期實地測試的風險。

### 7. 干擾模型與抗干擾機制

**目的**：實現 5G 網絡中的干擾模擬和抗干擾機制，支持 AI-RAN 動態頻率選擇。

**專案目標關聯**：
此任務直接實現了 GPT.md 中的關鍵目標「透過 AI-RAN/抗干擾模組動態避干擾」。在專案表格中明確將 UAV 定位為「可部署 Jammer 或中繼」，並指出其任務包括「作為干擾源測試快速跳頻/移頻演算法」。同時，GPT.md 流程中提到「把 jammer 參數、AI-RAN 跳頻策略納入迭代」，這正是本任務要實現的核心功能。此外，項目最終要求的量化指標中特別包含「干擾避讓」，表明本任務對最終專案驗收有直接影響。

**方法**：

-   使用 Sionna 模擬多種類型的干擾源(jammer)，包括寬帶噪聲、掃頻干擾和智能干擾
-   在 UERANSIM 中實現干擾感知和報告機制，使網絡能夠檢測和量化干擾水平
-   開發基於 AI 的自適應抗干擾控制邏輯，實現毫秒級的頻率跳變和波束調整

**步驟**：

1. 配置 Sionna 模擬 jammer 干擾源，生成真實的干擾場景，包括多種干擾類型、強度和分布
2. 開發干擾模型到 UERANSIM 參數的轉換器，將物理層干擾轉化為網絡層可理解的信號干擾比參數
3. 修改 UERANSIM，增加干擾檢測和報告功能，使 UE 能實時向網絡報告干擾情況，作為 AI 決策的輸入
4. 實現 AI-RAN 控制邏輯，包括：
    - 干擾識別算法，能夠分辨不同類型的干擾及其特征
    - 頻率跳變決策邏輯，基於干擾態勢快速選擇最佳頻道
    - 波束調整策略，通過空間濾波減少干擾影響
5. AI-RAN 算法實作路徑：
    - **演算法選型與比較**：
        - 深度强化學習（DRL）：使用 DDPG (Deep Deterministic Policy Gradient) 或 DQN (Deep Q-Network) 實現干擾環境下的動態頻率選擇，具有良好的環境適應性
        - 啟發式算法：實現基於規則的快速響應機制，作為 AI 算法的輔助和備份
        - 混合方法：結合傳統通信防護技術與機器學習，利用頻率跳變、展頻通信原理與智能決策
    - **訓練資料來源**：
        - 合成數據：使用 Sionna 基于物理模型生成的干擾場景，包括各種類型干擾源和傳播特性
        - 實驗室測量數據：通過 SDR 設備在受控環境中收集的真實干擾響應和頻譜數據
        - 現場採集數據：在目標部署區域採集的實際電磁環境數據，確保模型對真實場景的適應性
        - 半監督學習方法：結合少量標記數據與大量未標記數據，提高模型對新型干擾的泛化能力
    - **線上/離線推理架構**：
        - 離線訓練 Pipeline：
            - 使用 GPU 集群進行模型訓練，基於 TensorFlow/PyTorch 框架
            - 實現數據增強和場景合成，擴充訓練數據多樣性
            - 設計評估指標和驗證集，確保模型性能和穩定性
        - 線上推理接口：
            - 部署優化後的輕量級模型到邊緣設備，支持毫秒級推理
            - 實現 API 端點 `/api/v1/ai-ran/inference`，接收實時干擾數據，返回頻率選擇決策
            - 支持 ONNX 格式模型，確保跨平台部署能力
            - 開發模型版本管理和熱更新機制，支持在線升級而不中斷服務
        - 線上學習補充：
            - 實現增量學習能力，在實際運行過程中持續優化模型
            - 設計經驗回放機制，記錄決策效果，用於模型微調
            - 開發異常干擾檢測模組，識別模型未曾見過的新型干擾
6. 開發 FastAPI 端點`/api/v1/ueransim/interference-control`處理抗干擾指令，實現中央控制與分布式執行相結合
7. 建立測試場景，驗證在指定時間內(如 1ms)的干擾規避能力，符合 GPT.md 中的性能要求

**預期成果**：一個完整的干擾模擬和抗干擾系統，能夠動態應對不同類型的干擾，並且在受到干擾時維持通信能力，保持系統韌性。系統包含完整的 AI-RAN 實現，從干擾識別到決策執行，支持毫秒級反應時間，並具備自適應學習能力，可隨時間優化決策策略。

**階段性意義與必要性**：
抗干擾能力是軍事通信系統的核心需求，也是專案目標中的明確要求。若不實現此功能，系統在面對干擾時將完全失效，無法支持 30km 營級作戰範圍內的可靠通信。本任務直接支持 GPT.md 中 M-6 階段的「Jammer 與 AI-RAN 跳頻 Demo」里程碑，是專案從通信功能到抗干擾能力跨越的關鍵步驟。更重要的是，這項任務將 AI 技術引入通信系統，實現電磁頻譜的智能使用，大幅提升系統在對抗環境中的生存能力。從軍事角度看，這是系統從和平時期通信走向戰場環境應用的必經之路，也是區別於民用系統的關鍵特性。

## 四、與 UAV 設備整合

### 8. UAV 作為 UE 的模擬實現

**目的**：實現 UAV(無人機)作為 5G UE 的模擬，支持動態移動和信道變化。

**專案目標關聯**：
這項任務直接對應 GPT.md 中的核心目標「UAV 群作為行動終端(NTN UE)」。在專案表格中明確定義了 UAV 的角色：「行動 UE(Rx)」，並列出其功能任務包括「根據飛行軌跡向衛星/地面請求連線」、「回報位置與信道量測(SINR/CSI)」。此外，GPT.md 工作流程中提到「UAV(Rx/UE)按航跡移動」，這正是本任務要實現的核心功能。UAV 作為移動終端是專案 Two-Tier 架構中的關鍵節點，也是最終使用者場景中實際的數據消費端，其性能直接決定整個系統的實用性。

**方法**：

-   基於 UERANSIM 模擬 UAV 作為 UE，實現移動終端在 NTN 環境下的特殊行為模式
-   開發 UAV 飛行軌跡與 UE 位置同步機制，實現虛擬 UAV 與物理或模擬航跡的精確映射
-   實現 UE 與衛星 gNodeB 的連接管理，包括切換決策和連接質量監控機制

**步驟**：

1. 設計 UAV 飛行軌跡數據結構和存儲方式，支持標準航空軌跡格式(如 KML、CSV)以及戰術任務模式定義
2. 開發 FastAPI 端點`/api/v1/uav/trajectory`管理軌跡數據，支持軌跡導入、編輯、優化和實時更新
3. 實現 UAV 位置到 UE 配置的自動轉換，確保網絡層行為與物理位置一致，包括高度、速度和方向因素
4. 修改 UERANSIM UE 配置，適應衛星通信特性：
    - 增加延遲容忍度，避免 NTN 環境中的頻繁連接失敗
    - 調整功率控制參數，適應與衛星的遠距離通信
    - 配置多普勒補償，處理高速 UAV 與高速衛星相對運動引起的頻移
    - 實現優化的連接重建機制，加速斷鏈恢復
5. 實現 UE 與衛星 gNodeB 的信號質量監測，提供實時 SINR、吞吐量和延遲數據，支持決策分析
6. 開發動態切換機制，當信號質量低於閾值時自動切換到地面 Mesh 網絡，實現無縫銜接的通信保障

**預期成果**：一個完整的 UAV-UE 模擬系統，能夠根據任意預設飛行軌跡模擬 UAV 作為移動 UE 的行為，並實現與衛星 gNodeB 的動態交互，包括連接建立、數據傳輸、切換和恢復等全過程。

**階段性意義與必要性**：
UAV 作為 UE 是整個 NTN 系統的數據終端和實際用戶，其實現直接決定系統能否達成「營級作戰範圍的通訊系統」目標。若不實現此功能，專案將只剩下基站(gNodeB)和核心網，無法形成完整的端到端場景，也就無法驗證系統整體效能。更關鍵的是，作為移動終端的 UAV 面臨著複雜多變的無線環境，其連接質量和維持能力是整個系統最大的挑戰點。這項任務直接支持 GPT.md 中的 M-9 里程碑「E2E Ping < 50 ms；中斷後 2s 內重建連線」，是實現營級戰術通信的基礎組件。從軍事角度看，UAV 群作為前沿偵察/打擊平台，其通信可靠性對整體作戰效能有決定性影響，這使得此項任務在專案中具有不可替代的戰略價值。

### 9. UAV-衛星連接質量評估系統

**目的**：開發評估 UAV 與衛星 gNodeB 連接質量的系統，提供實時性能指標。

**專案目標關聯**：
此任務直接支持 GPT.md 中「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」的驗測需求。在專案表格中明確指出 UAV 需要「回報位置與信道量測(SINR/CSI)」，這些數據正是連接質量評估的核心指標。GPT.md 工作流程中提到通過 WebSocket 收到「Channel heat-map 影像」和「SINR 數據流」，這些都是本任務的輸出內容。此評估系統不僅是性能監測工具，也是 AI-RAN 抗干擾決策的數據基礎，直接影響系統的適應性和可靠性。

**方法**：

-   從 UERANSIM 中提取連接質量數據，包括標準的 5G QoS 指標和特定於 NTN 場景的指標
-   結合 Sionna 的信道質量信息，提供物理層到網絡層的多維度評估
-   開發綜合評估模型，量化不同場景下的連接質量，支持比較分析和優化決策

**步驟**：

1. 識別關鍵連接質量指標，建立全面的評估框架：
    - SINR(信噪干擾比)，反映信號質量的基礎指標
    - 吞吐量，測量有效數據傳輸能力
    - 時延，評估通信實時性，特別重要的軍事指標
    - 信號穩定性，衡量連接可靠性，包括丟包率、抖動和連接中斷頻率
    - 跳頻/切換成功率，評估抗干擾和網絡韌性能力
2. 在 UERANSIM 中實現這些指標的採集，開發專用的遙測模塊捕獲 NTN 特有的性能數據
3. 開發 FastAPI 端點`/api/v1/uav-satellite/connection-quality`，提供統一的數據訪問界面
4. 實現實時監控和數據存儲，支持歷史趨勢分析和異常檢測：
    - 設計時序數據庫存儲結構，優化查詢效率
    - 實現數據壓縮和降采樣策略，平衡存儲需求和分析精度
    - 配置滾動保留策略，管理長期數據存儲
5. 開發評估算法，生成綜合連接質量得分，綜合多維指標評估總體性能：
    - 設計加權評分模型，根據任務類型調整指標權重
    - 實現自適應閾值，反映不同環境的質量標準
    - 開發異常檢測算法，提前識別性能下降趨勢
6. 配置 Grafana 儀表板展示連接質量指標，提供直觀的可視化界面：
    - 設計多級儀表板，從總覽到詳細分析
    - 實現地理信息顯示，將性能數據映射到 UAV 位置
    - 配置告警規則，及時通知異常情況

**預期成果**：一個功能完備的 UAV-衛星連接質量評估系統，能夠實時監控和評估連接性能，識別問題根源，指導系統優化，並為決策提供數據支持。

**階段性意義與必要性**：
連接質量評估是整個系統性能驗證的基礎，沒有它就無法判斷系統是否達到預期目標。此外，這也是 AI-RAN 抗干擾決策的數據來源 - 若無法準確評估當前連接質量，就無法觸發正確的干擾規避動作。這項任務直接支持 GPT.md 中的驗測指標：「Coverage > 0.75、Transport Rate > 0.65、更新頻率 ≤ 2s」，為專案最終的效能驗證提供了不可或缺的量化依據。從系統工程角度看，這是閉環控制中的感知部分，確保了整個系統能夠適應變化的環境並持續優化性能。特別是對於 NTN 衛星通信，其特有的挑戰（如大范圍切換、長距離傳播、動態覆蓋）更需要專門的評估機制。

## 五、Mesh 網絡與 5G 整合

### 10. Tier-1 Mesh 網絡與 5G 核心網橋接

**目的**：實現 Tier-1 Mesh 網絡與 5G 核心網的無縫連接，提供備援回程路徑，確保在衛星連接不穩定或中斷時系統通信能力的持續性。

**專案目標關聯**：
這項任務直接實現了 GPT.md 中的核心目標「支援 Tier-1 Mesh 回傳與 5G 核心網連結」。專案表格中明確要求實現「Two-Tier BLOS 通訊系統」，其中 Tier-1 Mesh 網絡作為重要的備援層級。GPT.md 流程圖中也指出「地面 UAV 作為 Mesh 節點/中繼」的角色，需要與 5G 核心網實現可靠連接。此橋接功能是實現「30 km 營級作戰範圍」覆蓋的關鍵技術支撐，確保通信系統在衛星連接受限時仍能維持指揮控制功能。

**方法**：

-   開發 5G 核心網與 Mesh 網絡的橋接模塊，實現兩種異構網絡的協議轉換和數據交換
-   實現數據格式轉換和協議適配，解決 5G 網絡與 Mesh 網絡間的互操作性挑戰
-   開發智能路由決策機制，實時評估網絡狀態，選擇最優通信路徑

**步驟**：

1. 分析 Tier-1 Mesh 網絡的協議和接口特性，識別與 5G 協議的差異點和對接要求：
    - 研究 Mesh 網絡的拓撲管理和路由機制
    - 分析數據封裝格式和 QoS 實現方式
    - 評估安全機制的兼容性和適配需求
2. 設計核心網橋接模塊架構，定義功能組件和接口規范：
    - 5G 網關適配器，處理 5G 側的協議和格式
    - Mesh 網關適配器，處理 Mesh 側的協議和格式
    - 橋接控制器，管理兩側網關的協調工作
    - 監控組件，跟踪橋接狀態和性能
3. 實現數據平面橋接，確保高效的數據轉發：
    - UPF 到 Mesh 網關的數據轉發通道建立
    - 封包格式轉換，確保兩種網絡的正確識別和處理
    - QoS 映射，保證不同業務類型的服務質量需求
    - 實現高效緩沖機制，處理突發流量和網絡抖動
4. 實現控制平面集成，確保網絡管理和控制的一致性：
    - 會話管理信息同步，保證端到端連接的連續性
    - 路由信息交換，實現網絡拓撲感知和最優路徑選擇
    - 安全策略協調，確保跨網域通信的安全性
    - 身份認證機制整合，支持無縫漫遊和接入控制
5. 開發智能路由決策邏輯，基於網絡狀態動態選擇最優路徑：
    - 實時收集兩種網絡的性能指標，包括延遲、丟包率和可用帶寬
    - 實現多因素加權路由算法，支持不同業務類型的差異化路由需求
    - 開發預測模型，基於歷史數據預判網絡性能變化，提前調整路由策略
    - 配置可調參數，允許根據任務優先級動態調整路由策略
6. 實現故障檢測和自動切換機制，提高系統韌性：
    - 開發心跳檢測機制，快速識別網絡中斷
    - 實現無縫切換流程，確保業務連續性
    - 設計回退策略，在連接恢復後優化資源使用
    - 開發告警和日誌系統，記錄切換事件和原因

**預期成果**：一個功能完備的 5G-Mesh 橋接系統，能夠在兩種網絡間實現低延遲、高可靠的數據傳輸，支持智能路由和自動故障恢復，確保在任何網絡條件下都能維持通信能力。

**階段性意義與必要性**：
此橋接系統是實現「Two-Tier BLOS 通訊系統」的關鍵環節，直接解決了在衛星連接受限時的通信持續性問題。若不實現此功能，整個系統將完全依賴衛星連接，無法應對衛星信號阻斷、干擾或覆蓋盲區的情況，嚴重影響系統的可靠性和適用範圍。這項任務直接支持 GPT.md 中的重要里程碑：「中斷後 2s 內重建連線」，為系統提供了網絡層級的冗餘保障。從軍事角度看，此橋接系統大幅提升了通信系統的生存能力和作戰適應性，使其能夠在電磁對抗環境中保持最低限度的指揮通信能力，符合「營級作戰範圍」的實戰需求。此外，這種多層級的網絡架構也為未來系統擴展和異構網絡整合奠定了技術基礎。

### 11. UAV 失聯後的 Mesh 網絡備援機制

**目的**：實現 UAV 與衛星失聯後，自動切換到 Mesh 網絡的備援機制，確保在極端條件下維持通信連接，提升系統韌性。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的關鍵指標「中斷後 2s 內重建連線」。在專案表格中明確指出 UAV 需要「依連線品質主動執行網路切換」，這正是本任務要實現的核心功能。GPT.md 流程圖中提到「地面 UAV 作為 Mesh 節點/中繼」的雙重角色，要求 UAV 不僅能作為終端，還能在必要時轉換為網絡節點。此備援機制是實現「兩種無線通道(SATCOM + 地面 SDR)」的最後一環，確保通信系統在各種複雜環境中的連續性和可靠性。

**方法**：

-   開發連接狀態監控系統，實時評估衛星連接質量，預判潛在的連接中斷
-   實現快速切換觸發邏輯，基於預設閾值和智能判斷算法做出網絡切換決策
-   開發 Mesh 網絡接入配置自動生成和應用機制，實現從衛星 UE 到 Mesh 節點的角色轉換

**步驟**：

1. 設計連接狀態監控架構，實時檢測 UAV-衛星連接質量：
    - 開發多維度指標監控系統，包括信號強度、SINR、RTT 和吞吐量
    - 實現趨勢分析算法，識別連接質量的下降趨勢
    - 建立指標歷史數據庫，用於比較分析和異常檢測
    - 設計可插拔監控模塊，支持添加新的指標和檢測策略
2. 定義切換觸發條件，建立科學的決策模型：
    - SINR 低於閾值超過預設時間窗口，表明連接質量持續惡化
    - 連接中斷時間超過設定值，需要立即啟動備援
    - 數據丟包率過高，影響業務質量
    - 預測模型判斷即將進入覆蓋盲區
    - 智能加權算法，綜合多個因素做出切換決策
3. 開發自動切換控制器，管理 UE 網絡模式轉換：
    - 設計狀態機模型，明確定義各種轉換狀態和條件
    - 實現平滑過渡機制，確保業務連續性
    - 開發事務型切換流程，避免卡在中間狀態
    - 配置可調優先級策略，支持任務關鍵型業務優先保障
4. 實現 Mesh 網絡配置自動生成和應用：
    - 開發 Mesh 配置模板，根據 UAV 位置和周圍節點動態生成最優配置
    - 實現無線參數優化，包括頻率選擇、功率控制和天線方向
    - 建立鄰近節點發現機制，識別潛在的連接目標
    - 配置路由策略，確定在 Mesh 網絡中的角色和轉發規則
5. 開發快速恢復機制，在衛星連接恢復時智能切回 NTN 模式：
    - 持續監控衛星信號，檢測恢復時機
    - 設計雙連接緩衝期，避免頻繁切換導致的抖動
    - 實現業務遷移策略，確保回切過程中的數據完整性
    - 開發學習機制，記錄切換模式和效果，優化未來決策
6. 測試不同場景下的切換延遲和成功率：
    - 設計標準測試場景集，覆蓋各種失聯情況和網絡條件
    - 測量端到端恢復時間，驗證是否滿足 2 秒內重建連線的要求
    - 評估數據丟失率和業務中斷影響，量化切換性能
    - 進行壓力測試，模擬多 UAV 同時切換的極限場景

**預期成果**：一個可靠、高效的網絡備援機制，能夠在 UAV 與衛星失聯時，在 2 秒內完成到 Mesh 網絡的切換，保持通信能力；同時在衛星連接恢復時，智能評估並決定是否切回，確保最優網絡路徑的使用。

**階段性意義與必要性**：
此備援機制直接解決了 NTN 通信系統最大的脆弱點：當衛星連接不可用時系統將完全失效的問題。若不實現此功能，一旦衛星信號被干擾、阻斷或進入覆蓋盲區，UAV 將完全失去通信能力，無法執行任務甚至無法返航，這對軍事應用而言是不可接受的風險。這項任務不僅是技術需求，也是作戰能力的保障，直接支持 GPT.md 中的關鍵指標「中斷後 2s 內重建連線」，為系統提供了關鍵的韌性保障。從網絡架構角度看，此機制實現了真正的多路徑、異構網絡融合，使系統能夠適應各種複雜環境和對抗條件。更重要的是，它使 UAV 從單純的終端設備轉變為網絡節點，實現了資源的動態重組，大幅提升了系統的自適應能力和資源利用效率，為「30 km 營級作戰範圍」的覆蓋需求提供了技術支撐。

## 六、API 與前端整合

### 12. 後端 API 擴展與統一

**目的**：擴展 FastAPI 後端，提供統一的 API 接口管理 5G 網絡、衛星和 UAV，建立系統組件間的無縫交互能力，實現各模塊間的數據流通和控制指令傳遞。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「FastAPI 產生動態 UERANSIM cfg」和「FastAPI 轉換成 ECEF/ENU」等核心功能。GPT.md 流程圖中明確指出多個組件需通過 API 交互，包括「FastAPI 觸發 GPU 任務讀 XML」、「WebSocket 和 API 將數據傳遞給 React 前端」等關鍵流程。此 API 層是實現「真實場域與數位分身同步展示」的基礎架構，確保物理世界的變化能夠實時反映在數字模型中，並支持各組件間的協同工作。沒有統一的 API 架構，不同模塊將無法有效通信，導致系統碎片化，無法實現端到端的功能演示。

**方法**：

-   設計 RESTful API 架構，實現清晰、一致、可擴展的接口體系，支持從前端到後端各組件的無縫交互
-   實現全面的 CRUD 操作，確保對系統各實體（5G 組件、衛星、UAV 等）的完整管理能力，支持動態配置和調整
-   開發 WebSocket 實時數據推送機制，實現低延遲的狀態更新和事件通知，特別是對於信道狀態等需要即時反應的數據
-   整合 DevSecOps 實踐，實現持續集成/持續部署流程，確保代碼質量和系統安全性

**步驟**：

1. 設計 API 端點結構，建立清晰的命名空間和層次結構：
    - `/api/v1/open5gs/*` - 5G 核心網管理，包括 AMF、SMF、UPF 等組件的配置和監控
    - `/api/v1/ueransim/*` - RAN 和 UE 管理，支持 gNodeB 和 UE 的動態配置和狀態查詢
    - `/api/v1/satellite-gnb/*` - 衛星基站管理，提供衛星位置和波束參數的接口
    - `/api/v1/uav/*` - UAV 管理，支持軌跡規劃、狀態監控和命令下發
    - `/api/v1/wireless/*` - 無線通道管理，提供 Sionna 模擬結果和信道參數的接口
    - `/api/v1/mesh/*` - Mesh 網絡管理，支持拓撲配置和路由策略調整
2. 為每個端點實現標準 CRUD 操作，滿足不同使用場景的需求：
    - 創建(POST)操作，用於生成新配置、啟動模擬任務或建立新連接
    - 讀取(GET)操作，獲取當前狀態、配置參數或歷史數據
    - 更新(PUT/PATCH)操作，修改現有配置、調整參數或更新狀態
    - 刪除(DELETE)操作，移除不需要的配置或終止運行的任務
    - 批處理 API，支持高效地處理多實體操作，減少網絡往返
3. 開發 API 文檔和 Swagger 界面，提高系統可用性和開發效率：
    - 使用 FastAPI 內置的 OpenAPI 支持，自動生成交互式 API 文檔
    - 為每個端點提供詳細的參數說明、示例和響應格式
    - 實現模型驗證，確保 API 輸入數據的格式和類型正確
    - 提供測試環境，支持開發人員快速驗證 API 功能
4. 實現 WebSocket 端點，滿足實時數據推送的需求：
    - `/ws/network-status` - 推送網絡狀態更新，包括連接狀態、性能指標和告警
    - `/ws/satellite-position` - 傳輸衛星實時位置數據，支持動態軌道顯示
    - `/ws/uav-telemetry` - 提供 UAV 遙測數據流，包括位置、速度和連接質量
    - `/ws/channel-heatmap` - 傳輸無線信道熱力圖，直觀顯示覆蓋和干擾情況
    - 實現消息過濾和訂閱機制，允許客戶端選擇接收的數據類型和頻率
5. 建立 CI/CD Pipeline，實現代碼質量控制和自動部署：
    - 配置 GitHub Actions 自動化工作流，實現代碼提交後的自動構建和測試
    - 實施靜態代碼分析，使用 SonarQube 或 ESLint 等工具檢查代碼質量
    - 整合單元測試和集成測試到 CI 流程，確保每次提交都不破壞現有功能
    - 實現 Docker 鏡像自動構建和標記，推送到私有 Docker Registry
    - 配置 Kubernetes/Helm 自動部署，在測試環境中自動更新應用
    - 實施金絲雀部署策略，逐步將流量導向新版本，確保穩定過渡
    - 建立部署回滾機制，在發現問題時能夠快速恢復到穩定版本
6. 實施 DevSecOps 安全實踐，確保系統符合軍用標準：
    - 整合依賴項掃描工具 (如 OWASP Dependency-Check)，檢測第三方庫的安全漏洞
    - 實施容器鏡像安全掃描 (如 Trivy)，識別容器中的安全問題
    - 配置靜態應用安全測試 (SAST)，在構建階段檢測安全漏洞
    - 整合動態應用安全測試 (DAST)，檢測運行時安全問題
    - 實施安全配置分析，確保系統配置符合安全最佳實踐
    - 設置安全門檻，阻止不符合安全標準的代碼合併或部署
    - 建立安全事件響應流程，確保發現安全問題時能夠快速應對
7. 添加認證和授權機制，確保 API 安全性：
    - 實現 JWT(JSON Web Token)認證，控制 API 訪問權限
    - 配置基於角色的訪問控制(RBAC)，區分管理員、操作員和觀察者權限
    - 實現 API 速率限制，防止濫用和 DoS 攻擊
    - 記錄 API 訪問日誌，支持審計和問題排查
    - 設置適當的 CORS 策略，控制跨域請求
8. 開發 API 測試套件，確保接口的正確性和穩定性：
    - 編寫單元測試，驗證各端點的基本功能
    - 設計集成測試，確保端到端流程的正確性
    - 實現性能測試，評估 API 的響應時間和吞吐量
    - 建立自動化測試流程，支持持續集成和持續部署
    - 開發模擬客戶端，測試高並發和異常情況下的 API 行為

**預期成果**：一套全面、穩定的 API 架構，能夠有效連接前端界面與後端各功能模塊，支持複雜業務邏輯的實現和狀態數據的實時傳遞，為整個系統提供統一的數據訪問和交互層。API 支持高併發訪問，具備低延遲特性，能夠滿足實時數據更新的需求，同時提供完善的文檔和開發工具，便於系統擴展和維護。CI/CD 流程確保每次代碼變更都能自動測試和部署，提高開發效率並減少人為錯誤，同時 DevSecOps 實踐確保系統符合軍用安全標準。

**階段性意義與必要性**：
API 層是整個系統的神經系統，連接各個功能模塊並實現數據和控制信號的傳遞。若不實現此功能，前端界面將無法獲取後端數據或發送控制指令，各功能模塊間也無法協同工作，使整個系統變成相互隔離的組件集合。這項任務直接支持 GPT.md 中的「數位分身」和「即時展示」目標，是實現「真實場域與數位分身同步展示」的基礎設施。CI/CD 流程和 DevSecOps 實踐對於軍用系統尤為重要，確保系統的穩定性、可靠性和安全性達到軍事標準，同時提高開發效率，加速創新和問題修復。自動化測試環境的部署使團隊能夠在開發早期發現跨模組問題，大幅降低集成風險和維護成本。

### 13. 前端數據可視化組件開發

**目的**：開發 React 前端組件，展示 5G 網絡、衛星和 UAV 的狀態和性能數據，提供直觀、互動的用戶界面，支持系統監控、控制和決策分析。

**專案目標關聯**：
這項任務直接實現了 GPT.md 中的「真實場域與數位分身同步展示」目標。GPT.md 流程圖中指出「WebSocket 和 API 將數據傳遞給 React 前端」「Channel heat-map 影像」和「支援多人協同操作的 Dashboard」等具體功能，這些都需要通過前端可視化組件來實現。前端界面是系統與用戶交互的唯一窗口，也是展示專案成果和驗證系統性能的關鍵手段。沒有直觀的前端界面，系統的實時數據和性能指標將無法被理解和評估，使得整個專案的價值難以呈現，尤其是在「營級作戰範圍」的實戰示範中。

**方法**：

-   使用 React 組件設計模式，開發模塊化、可重用的界面元素，確保界面的一致性和開發效率
-   實現數據與視覺元素的綁定，將複雜的網絡拓撲、衛星軌道和 UAV 軌跡轉化為直觀的視覺呈現
-   開發實時更新機制，確保界面能夠跟隨物理世界和網絡狀態的變化即時反應，支持監控和決策

**步驟**：

1. 設計前端組件結構，建立清晰的模塊化架構：
    - 網絡拓撲圖組件，顯示 5G 核心網、RAN 和 Mesh 網絡的連接關係和狀態
    - 衛星軌道顯示組件，基於 Skyfield 數據可視化衛星位置和移動軌跡
    - UAV 飛行軌跡組件，展示 UAV 的實時位置、高度和飛行路徑
    - 連接質量儀表盤，直觀顯示 SINR、吞吐量和延遲等關鍵性能指標
    - 性能指標圖表，提供歷史數據趨勢分析和預測
    - 告警面板，突出顯示系統異常和性能降級情況
    - 控制面板，支持用戶發送指令和調整系統參數
2. 實現 API 數據獲取和 WebSocket 連接，確保前端與後端的高效交互：
    - 開發數據服務層，封裝 API 調用邏輯，處理請求參數和響應數據
    - 實現 WebSocket 連接管理，處理連接建立、心跳維護和重連邏輯
    - 設計數據緩存策略，優化頻繁請求的性能
    - 實現錯誤處理機制，提供友好的錯誤提示和恢復策略
    - 開發離線模式支持，在網絡中斷時保持基本功能
3. 開發數據轉換層，將 API 數據轉換為可視化所需格式：
    - 實現拓撲數據處理，將網絡連接數據轉換為圖形結構
    - 處理地理坐標轉換，支持不同坐標系統間的映射
    - 設計數據聚合策略，處理大量數據點的高效顯示
    - 實現數據過濾機制，允許用戶選擇關注的數據維度
    - 開發數據驗證和清理流程，處理不完整或不一致的數據
4. 使用 D3.js 或 ECharts 實現數據可視化，提供豐富的視覺表達：
    - 開發網絡拓撲圖，使用力導向算法展示網絡結構
    - 實現地理信息顯示，在地圖上展示衛星和 UAV 位置
    - 設計性能儀表盤，直觀顯示關鍵指標和閾值
    - 開發時序圖表，展示性能數據的歷史趨勢
    - 實現熱力圖，直觀展示信號覆蓋和干擾分布
    - 設計交互式圖表，支持縮放、平移和細節查看
5. 實現用戶交互功能，提升操作體驗和效率：
    - 開發視角控制，支持多維度查看系統狀態
    - 實現參數調整界面，允許用戶修改配置和策略
    - 設計場景切換功能，快速在不同測試場景間切換
    - 開發命令下發介面，支持向 UAV 發送控制指令
    - 實現多用戶協同機制，支持不同角色的並行操作
    - 設計用戶偏好保存，記住用戶的界面設置和視圖配置
6. 優化組件性能，確保在大量數據下的流暢體驗：
    - 實現虛擬滾動和分頁加載，高效處理長列表
    - 使用 React.memo 和 useMemo 優化渲染性能
    - 實現懶加載策略，按需載入組件和數據
    - 設計響應式設計，適應不同屏幕尺寸和設備類型
    - 優化動畫效果，確保流暢的視覺過渡
    - 實施性能監控，識別和解決性能瓶頸

**預期成果**：一套功能完備的前端可視化系統，能夠直觀展示整個通信系統的狀態、性能和拓撲，提供用戶友好的交互界面，支持系統監控、分析和控制。界面響應迅速，能夠處理大量實時數據，並提供豐富的視圖和分析工具，幫助用戶理解系統行為和做出決策。支持多用戶協同操作，滿足不同角色和使用場景的需求，實現「真實場域與數位分身同步展示」的最終目標。

**階段性意義與必要性**：
前端可視化是整個系統的"窗口"，直接決定了用戶如何感知和使用系統功能。若不實現此功能，系統的狀態和性能數據將只能通過日誌和原始數據查看，無法直觀理解和快速判斷，嚴重限制了系統的可用性和展示效果。這項任務直接支持 GPT.md 中的「真實場域與數位分身同步展示」和「支援多人協同操作的 Dashboard」目標，是專案最終驗收的關鍵展示平台。從用戶體驗角度看，優秀的前端界面能夠降低系統使用門檻，提高操作效率，使非技術人員也能理解和評估系統性能。特別是對於軍事應用，直觀的態勢顯示和控制介面對於快速決策和指揮協調至關重要，符合「營級作戰範圍」實戰應用的實際需求。此外，前端界面也是項目展示和成果驗證的主要媒介，直接影響專案的最終呈現效果和評估結果。

## 七、集成測試與性能優化

### 14. Hardware-in-the-Loop (HIL) 測試系統

**目的**：建立 Hardware-in-the-Loop 測試系統，將實際 SDR 硬體納入開發和測試循環，確保軟體模擬與實際硬體表現一致，提前發現並解決 PHY-MAC 交界處的問題。

**專案目標關聯**：
這項任務支持 GPT.md 中的「實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」目標。HIL 測試將理論模擬與實際硬體效能連接起來，確保在實際部署前發現並解決硬體相關問題，大幅降低戶外測試風險。特別是對於「透過 AI-RAN/抗干擾模組動態避干擾」這樣涉及複雜 PHY 層交互的功能，實際硬體測試是必不可少的驗證步驟。

**方法**：

-   設計 loop-back 測試架構，使用 USRP 或真實 SDR 設備構建實際 RF 信道
-   實現自動化 HIL 測試流程，將硬體測試納入 CI 流程
-   開發性能基準和比較工具，評估軟體模擬與實際硬體表現的一致性

**步驟**：

1. 設計 HIL 測試架構，包含軟體控制層和硬體交互層：

    - 建立標準化的測試信號生成模塊，支持各種調制和編碼方案
    - 設計 RF 配置接口，實現對 SDR 設備的參數控制
    - 開發信號捕獲和分析模塊，處理 SDR 回傳的數據
    - 構建自動化測試控制框架，支持批處理測試執行
    - 設計測試結果評估和報告生成機制

2. 搭建基本 loop-back 測試平台：

    - 配置 USRP 設備，實現 TX/RX 環路
    - 安裝控制驅動和 API 庫，確保軟體可靠控制硬體
    - 設置衰減器和分路器，模擬不同信道條件
    - 建立基本的噪聲和干擾源，用於測試抗干擾能力
    - 實現自動校準流程，確保測量精度和一致性

3. 開發 PHY-MAC 交界處測試套件：

    - 實現標準 5G NR 波形生成和測量功能
    - 開發幀結構和同步測試，驗證時間對齊能力
    - 設計頻率偏移和多普勒效應測試，驗證頻率恢復能力
    - 實現通道估計和均衡測試，評估信道補償效果
    - 開發 AMC (自適應調制與編碼) 測試，驗證鏈路自適應能力

4. 集成干擾生成和抗干擾測試：

    - 開發多種類型的干擾信號生成器，包括窄帶、寬帶和智能干擾
    - 設計干擾識別和測量流程，驗證干擾檢測能力
    - 實現 AI-RAN 跳頻決策測試，評估抗干擾響應時間
    - 開發自動干擾場景生成器，創建各種複雜干擾環境
    - 建立干擾抵抗能力量化指標，評估系統對不同類型干擾的適應力

5. 將 HIL 測試集成到 CI/CD 流程：

    - 建立測試環境自動初始化和復位機制
    - 開發測試結果自動收集和分析框架
    - 實現測試報告生成和問題通知機制
    - 設定關鍵性能指標閾值，作為代碼合併的質量門檻
    - 配置定期回歸測試，確保系統穩定性

6. 開發性能比較和分析工具：
    - 實現模擬結果與實際硬體測量的比較分析
    - 開發差異診斷工具，識別不一致的原因
    - 建立性能基準數據庫，跟踪長期趨勢
    - 設計可視化工具，直觀展示比較結果
    - 提供自動校準建議，指導模擬參數調整

**預期成果**：一個功能完備的 HIL 測試系統，能夠自動執行包含實際硬體的測試，驗證 PHY-MAC 層交互的正確性和效能，特別是干擾識別和抗干擾能力。系統集成到 CI/CD 流程，確保每次關鍵代碼變更都經過實際硬體驗證，大幅提高系統可靠性和降低後期集成風險。測試報告提供軟體模擬與實際硬體表現的詳細比較，指導模型校準和性能優化。

**階段性意義與必要性**：
HIL 測試彌補了純軟體模擬與實際部署之間的關鍵差距。若不實施此任務，系統可能在戶外測試時首次遇到硬體相關問題，導致重大延遲和返工。特別是在無線通信系統中，PHY 層的實際表現常因硬體限制而與理論模型有顯著差異，這對於要求高可靠性的軍事通信系統尤為關鍵。HIL 測試直接支持 M-9 里程碑的關鍵指標驗證，是確保最終系統達成「E2E Ping < 50 ms」和「中斷後 2s 內重建連線」等性能目標的重要保障。從開發流程角度看，將實際硬體測試前移到開發階段而非僅在最終測試階段進行，能顯著縮短開發週期，減少迭代成本，提高整體開發效率。

### 15. 端到端系統集成測試

**目的**：驗證整個系統的集成功能，確保各組件間無縫協作，評估系統在現實條件下的性能和穩定性，為最終部署和驗測提供可靠保障。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」關鍵目標。在專案里程碑中明確要求「M-9 (116 Q2): E2E Ping < 50 ms；中斷後 2s 內重建連線」和「M-12 (116 Q3): 戶外 5 km 驗測 + KPI 報告」，這些指標的達成必須通過嚴格的端到端測試驗證。系統集成測試是連接各個獨立功能模塊與最終實戰驗證的橋樑，確保所有組件在整體架構中能夠協同工作，實現專案核心目標中的「Two-Tier BLOS 通訊系統」和「NTN GW、AI-RAN 基地台、核網連結」。沒有完善的集成測試，各模塊間的互操作性問題將在最終驗證階段暴露，大幅增加專案風險和時間成本。

**方法**：

-   設計端到端測試場景，構建涵蓋所有關鍵功能和性能指標的全面測試矩陣，確保系統在各種條件下的功能完整性和性能穩定性
-   自動化測試執行，開發測試自動化框架和工具，提高測試效率和覆蓋率，確保測試的可重複性和一致性
-   實施性能和穩定性評估，通過科學的測量方法和標準，量化系統的關鍵指標，為性能優化提供精確依據

**步驟**：

1. 設計測試場景矩陣，建立全面的測試覆蓋：
    - UAV 正常連接衛星場景，驗證基本通信功能和端到端延遲
    - 干擾出現和規避場景，測試 AI-RAN 抗干擾能力和快速頻率跳變效果
    - 衛星失聯切換到 Mesh 場景，驗證網絡備援機制和恢復時間
    - 高負載下的性能場景，測試系統在極限條件下的吞吐量和穩定性
    - 多 UAV 同時接入場景，評估系統的擴展性和資源管理能力
    - 長時間運行場景，檢測系統的穩定性和資源洩漏情況
    - 邊界條件測試，驗證系統在極端情況下的行為和錯誤處理能力
2. 開發自動化測試框架，提高測試效率和可靠性：
    - 設計測試自動化架構，支持測試場景的可配置執行
    - 實現測試用例管理系統，組織和追踪測試覆蓋情況
    - 開發自動化測試腳本，覆蓋關鍵功能點和業務流程
    - 構建測試數據生成器，模擬各種輸入條件和邊界情況
    - 實現測試結果自動收集和分析功能，提供詳細的測試報告
    - 集成持續集成/持續部署(CI/CD)流程，實現自動化測試執行
    - 開發測試監控儀表板，實時顯示測試進度和結果
3. 設置測試環境，模擬實際部署條件：
    - 配置硬件環境，包括服務器、網絡設備和終端設備
    - 部署完整的軟件堆棧，確保與生產環境一致
    - 實現網絡條件模擬，包括延遲、丟包和帶寬限制
    - 配置衛星軌道模擬器，生成真實的衛星移動軌跡
    - 設置 UAV 模擬終端，模擬不同飛行軌跡和移動模式
    - 構建干擾源模擬器，產生各種類型的電磁干擾
    - 設置監控和日誌收集系統，捕獲測試過程中的系統行為
4. 執行測試並收集結果數據，確保客觀準確的評估：
    - 執行功能測試，驗證所有功能點的正確實現
    - 進行性能測試，測量關鍵性能指標如延遲、吞吐量和連接恢復時間
    - 執行穩定性測試，評估長時間運行下的系統可靠性
    - 進行安全測試，檢查系統在安全威脅下的行為
    - 收集詳細的測試數據，包括原始日誌、性能指標和系統事件
    - 實施邊界測試，驗證系統在極端條件下的表現
    - 驗證所有必須的錯誤處理和恢復機制
5. 分析系統性能，識別瓶頸和問題：
    - 對測試結果進行統計分析，計算關鍵指標的平均值、標準差和分布
    - 識別性能瓶頸，找出限制系統性能的關鍵因素
    - 分析功能缺陷和邊界情況，評估系統的健壯性
    - 比較與目標指標的差距，確定需要優化的關鍵領域
    - 創建性能熱點圖，直觀展示系統中的效能問題
    - 建立性能基準線，作為後續優化的參考
    - 生成詳細的問題清單，按優先級排序
6. 迭代優化直至達到性能指標，確保系統滿足設計目標：
    - 根據測試結果制定優化計劃，明確優化目標和方法
    - 實施代碼和配置優化，解決識別的性能瓶頸
    - 重新測試優化後的系統，評估改進效果
    - 調整系統架構和資源分配，提高整體效能
    - 持續迭代直至達到或超過設定的性能目標
    - 記錄優化過程和結果，形成最佳實踐指南
    - 更新系統文檔，反映最終的配置和性能特性

**預期成果**：一套經過全面驗證的端到端系統，通過了所有功能和性能測試，達到或超過了專案設定的目標指標。具體包括：端到端通信延遲小於 50 毫秒，網絡中斷後 2 秒內恢復連接，在有干擾條件下保持通信能力，以及支持多 UAV 同時接入的擴展性。同時產生詳盡的測試報告，記錄系統各方面的性能指標和測試結果，為後續優化和實際部署提供可靠依據。

**階段性意義與必要性**：
端到端系統集成測試是連接開發階段和實際部署之間的關鍵環節。若不實施此任務，各個獨立組件雖然可能功能完善，但整體系統的協同工作能力將無法確保，導致在實際部署時出現無法預期的互操作性問題。這項任務直接支持 GPT.md 中的 M-9 和 M-12 里程碑，是驗證系統是否滿足「營級作戰範圍的 Two-Tier BLOS 通訊系統」核心目標的必要手段。從專案管理角度看，它顯著降低了最終驗收階段發現重大問題的風險，節省了後期修復成本和時間。對於軍事應用尤為重要，因為通信系統在實戰環境中必須保持高度可靠性，無法接受「先部署後修復」的開發模式。此外，系統測試也是優化過程的基礎，提供了量化的性能數據，指導後續的性能調優工作，確保資源被投入到最關鍵的改進領域。

### 16. 系統性能優化

**目的**：優化系統性能，確保滿足實時性和可靠性要求，提升資源使用效率，實現系統在資源受限環境下的最佳性能，確保關鍵指標如延遲、吞吐量和恢復時間達到專案目標。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的核心性能指標，包括「E2E Ping < 50 ms」、「中斷後 2s 內重建連線」和「即時更新頻率 ≤ 2s」等量化目標。在軍事通信系統中，性能直接關係到作戰效能，符合「營級作戰範圍的 Two-Tier BLOS 通訊系統」的實戰需求需要嚴格的性能標準。GPT.md 技術棧中提到使用「Prometheus + Grafana 收集 Sionna GPU 使用率、5G KPI」，這些監控數據正是性能優化的基礎。特別是在衛星通信的高延遲環境和電磁對抗的干擾條件下，系統必須經過精心優化才能滿足戰術通信的嚴格要求，實現專案中設定的「Coverage > 0.75、Transport Rate > 0.65」等目標。

**方法**：

-   系統性能分析，通過全面的性能測量和數據收集，識別系統的性能特性和限制因素，建立優化的科學基礎
-   瓶頸識別和優化，運用結構化方法找出限制系統性能的關鍵環節，並實施有針對性的改進措施
-   資源使用效率提升，通過合理分配和管理計算、網絡和存儲資源，最大化系統總體性能，提高擴展性和韌性

**步驟**：

1. 執行全面的性能分析，識別關鍵指標和基準值：
    - API 響應時間分析，測量各 API 端點的平均、最大和分布情況
    - 配置生成和應用延遲評估，計算從配置變更到生效的時間
    - 數據處理吞吐量測量，評估系統在不同負載下的數據處理能力
    - 資源(CPU/內存/網絡)使用效率監控，識別資源瓶頸和浪費
    - 網絡延遲和帶寬測量，分析不同網絡路徑的性能特性
    - 存儲 I/O 性能評估，檢測存儲操作對系統速度的影響
    - 並發處理能力測試，評估系統在多用戶和多進程條件下的表現
2. 識別性能瓶頸和優化機會，建立優化目標和優先級：
    - 分析性能數據，識別系統中的慢速組件和瓶頸點
    - 進行代碼剖析(profiling)，找出耗時最長的函數和調用
    - 評估算法複雜度，識別可以優化的計算密集型操作
    - 檢查網絡通信模式，找出不必要的請求和數據傳輸
    - 分析內存使用模式，識別內存洩漏和過度分配
    - 評估數據庫查詢效率，找出慢查詢和優化機會
    - 建立優化清單，按影響程度和實施難度排序
3. 實施優化措施，解決已識別的性能問題：
    - 代碼優化，重構高負載代碼路徑，改進算法效率
    - 數據緩存策略實施，減少重複計算和數據獲取
    - 異步處理優化，通過並行處理提高吞吐量
    - 資源分配調整，優化 CPU、內存和網絡資源的使用
    - 數據庫查詢優化，添加索引並重構慢查詢
    - 網絡協議調整，減少延遲和提高吞吐量
    - 負載均衡實施，平衡系統各組件的工作負載
4. 重新測試並對比優化前後的性能，確保優化效果：
    - 執行基準測試，使用標準化方法測量關鍵指標
    - 比較優化前後的性能差異，量化改進效果
    - 分析優化措施的投入產出比，評估效益
    - 檢測優化引入的潛在新問題或副作用
    - 驗證系統在極限條件下的表現是否改善
    - 確認所有功能在優化後仍正常工作
    - 記錄優化結果和最佳實踐，供未來參考
5. 迭代優化直至達到目標性能，確保系統滿足專案需求：
    - 根據測試結果，識別仍需改進的領域
    - 實施下一輪優化措施，解決剩餘瓶頸
    - 調整系統架構和設計，解決根本性的性能限制
    - 持續測試和評估，跟踪性能改進趨勢
    - 與項目目標對比，確認是否達到要求
    - 在達到目標後進行微調，確保穩定性
    - 將優化知識轉化為設計原則，指導未來開發
6. 實施長期性能監控和優化機制，確保系統在運行中保持高性能：
    - 部署持續性能監控系統，實時跟踪關鍵指標
    - 設置性能告警閾值，及時發現性能下降
    - 建立自動化性能報告機制，定期評估系統狀態
    - 實施性能數據分析流程，識別長期趨勢和模式
    - 建立性能優化反饋循環，持續改進系統
    - 開發性能自適應機制，根據工作負載動態調整資源分配
    - 製定性能維護計劃，確保長期性能穩定

**預期成果**：一個高性能、低延遲的系統，能夠滿足專案設定的所有性能目標，包括端到端延遲小於 50 毫秒，中斷後 2 秒內恢復連接，以及在資源受限條件下的高效運行。系統具備良好的擴展性和穩定性，能夠在不同負載下維持一致的性能水平，並且資源利用率達到最優。同時，建立了完善的性能監控和優化機制，支持系統在運行中持續保持高性能狀態。

**階段性意義與必要性**：
系統性能優化是實現專案核心目標的關鍵保障。若不進行此項任務，即使功能完整，系統也可能因性能不足而無法滿足實際應用需求，特別是在要求嚴格的軍事通信場景。這項任務直接支持 GPT.md 中的關鍵性能指標，是確保系統實用性的必要步驟。從軍事角度看，通信系統的性能直接影響指揮控制效率，決定了作戰節奏和機動能力，特別是「中斷後 2s 內重建連線」這一指標對於戰場環境中的通信韌性至關重要。此外，性能優化也提高了系統的資源利用效率，在有限的計算和網絡資源下實現最大化的功能支持，這對於資源受限的前線部署環境尤為重要。從長期角度看，性能優化建立的監控和改進機制也為系統的持續演進和適應新需求提供了基礎，確保系統能夠在實際使用中不斷完善和提高。

## 八、文檔與部署準備

### 17. 系統文檔與使用手冊

**目的**：編寫完整的系統文檔和使用手冊，便於系統的維護、使用和知識傳承，確保開發團隊、運維人員和最終用戶能夠有效理解和操作系統，減少學習成本和操作風險。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「兩種無線通道(SATCOM + 地面 SDR)操作界面簡易化」和「支援多人協同操作的 Dashboard」目標。完善的文檔是系統可用性的重要組成部分，特別是對於專案中提到的「營級作戰範圍」的複雜系統。在軍事應用場景中，清晰的操作指南和維護文檔直接關係到系統在緊急情況下的快速部署和故障排除能力，影響作戰效能。此外，GPT.md 中提出系統需要「可供偵測/突擊連及其無人載具使用」，這要求文檔必須適合不同技術水平的用戶群體，從專業技術人員到一線作戰單位。完整的知識轉移和培訓材料是確保系統從實驗室階段邁向實戰應用的關鍵橋樑。

**方法**：

-   編寫技術文檔，全面記錄系統架構、組件交互和實現細節，為開發和維護團隊提供可靠的知識庫
-   製作用戶手冊，以任務導向的方式詳細說明系統操作流程和功能使用方法，確保最終用戶能夠高效使用系統
-   提供 API 文檔和示例，支持系統的擴展和二次開發，確保系統能夠與其他軍事系統實現無縫整合

**步驟**：

1. 編寫系統架構文檔，描述各組件的設計和交互：
    - 繪製系統架構圖，清晰展示所有組件及其關係
    - 詳細說明數據流和控制流，解釋系統運行邏輯
    - 記錄設計決策和權衡考量，幫助理解系統的設計思路
    - 描述與外部系統的接口和交互方式
    - 說明系統的擴展點和定制機制
    - 整理技術棧和依賴關係，便於環境準備
    - 建立版本控制和文檔更新機制，確保文檔與代碼同步
2. 編寫安裝和配置指南，確保系統能夠被正確部署：
    - 詳細列出硬件和軟件需求，包括最低和推薦配置
    - 提供逐步的安裝說明，覆蓋所有必要步驟
    - 說明配置文件的結構和參數含義
    - 提供不同部署場景的配置模板和最佳實踐
    - 包含環境驗證和健康檢查的方法
    - 說明系統升級和回滾的流程
    - 提供常見安裝問題的故障排除指南
3. 開發用戶操作手冊，包含界面說明和常見操作：
    - 採用任務導向的組織結構，按用戶實際工作流程編排
    - 提供清晰的界面導航和功能說明
    - 使用豐富的截圖和圖示，增強可讀性
    - 詳細說明每個功能的使用方法和注意事項
    - 提供常見任務的操作步驟和實例
    - 針對不同用戶角色(管理員、操作員、觀察者)分別說明
    - 包含鍵盤快捷鍵和操作技巧，提高使用效率
4. 生成 API 文檔，包含所有端點的使用說明和示例：
    - 使用 OpenAPI 規範描述所有 API 端點
    - 詳細說明請求參數、響應格式和錯誤碼
    - 提供豐富的示例代碼，涵蓋常見使用場景
    - 說明認證和授權機制，確保安全使用
    - 提供 API 版本控制和兼容性信息
    - 包含性能考量和最佳實踐建議
    - 設計互動式 API 測試工具，便於理解和使用
5. 編寫故障排除指南，幫助用戶解決常見問題：
    - 整理常見問題和解決方案，形成 FAQ 文檔
    - 提供系統日誌解讀和問題診斷方法
    - 說明緊急情況下的應急處理流程
    - 建立問題上報和支持機制
    - 包含系統性能調優和優化建議
    - 提供安全事件處理和恢復指南
    - 建立知識庫系統，支持問題搜索和解決方案查詢
6. 製作演示和培訓材料，加速用戶學習和適應：
    - 開發概念介紹視頻，幫助理解系統目的和價值
    - 製作操作演示視頻，展示常見任務的完成方法
    - 設計交互式教程，提供實踐練習機會
    - 準備培訓課程大綱和教材
    - 制定階段性學習路徑，適應不同知識水平
    - 製作快速參考卡和簡明指南，支持現場使用
    - 建立用戶反饋機制，持續改進培訓材料

**預期成果**：一套完整、清晰、準確的文檔體系，包括技術參考手冊、用戶操作指南、API 文檔、故障排除指南和培訓材料。文檔採用多種格式(如 PDF、HTML、視頻)，適應不同使用場景和學習偏好。所有文檔均經過技術審核和用戶測試，確保內容正確且易於理解。文檔系統支持版本控制和持續更新，能夠隨著系統演進而保持最新狀態。特別為軍事應用場景提供簡明的現場操作指南，支持在高壓環境下的快速使用。

**階段性意義與必要性**：
系統文檔是確保知識傳承和系統可維護性的基礎設施，沒有完善的文檔，系統將成為「黑盒子」，增加使用門檻和維護成本。此任務對於實現 GPT.md 中的「操作界面簡易化」目標至關重要，因為好的文檔直接影響系統的可學習性和可用性。從軍事角度看，通信系統在作戰環境中必須能被快速掌握和故障排除，這要求文檔必須清晰、實用且針對性強。特別是對於「營級作戰範圍」的系統，使用者可能包括不同技術背景的作戰人員，文檔必須適應這種多樣性。此外，完整的技術文檔也是系統長期維護和升級的保障，確保在原始開發團隊不可用時系統仍能得到支持。從專案交付角度看，高質量的文檔直接影響客戶滿意度和系統採納率，是專案成功的重要組成部分。

### 18. 部署流程優化與自動化

**目的**：優化系統部署流程，提高部署效率和可靠性，實現從開發環境到實驗室測試再到實戰部署的無縫遷移，確保系統能夠在不同環境中快速、一致地部署和啟動。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「實驗室與戶外驗測」目標，是從開發到實際應用的關鍵橋樑。在 GPT.md 中明確要求系統能在「30 km 營級作戰範圍」內部署使用，這需要高度可靠和簡化的部署流程。此外，GPT.md 技術棧中提到「使用 Docker Compose 整合所有服務，並包覆 GPU」，表明容器化部署是系統架構的核心部分。優化的部署流程對於實現 M-12 里程碑「戶外 5 km 驗測」至關重要，因為實地測試需要系統能夠在非理想環境中快速部署和故障恢復。在軍事應用背景下，部署的速度和可靠性直接影響系統在緊急情況下的可用性，是作戰準備和響應能力的重要組成部分。

**方法**：

-   容器化部署策略，利用 Docker 和 Kubernetes 等技術實現一致的運行環境和簡化的部署流程，確保系統在不同基礎設施上的一致行為
-   自動化部署腳本，減少人工操作，提高部署速度和準確性，降低人為錯誤風險
-   環境配置管理，有效處理不同部署環境的特定需求和配置差異，確保系統在各種場景下都能正確運行

**步驟**：

1. 優化 Docker Compose 配置，確保各組件的正確依賴和啟動順序：
    - 審查和改進現有的 Docker Compose 文件，確保最佳實踐
    - 實現多階段構建，優化鏡像大小和構建速度
    - 配置健康檢查機制，確保服務正確啟動
    - 優化網絡和存儲配置，提高性能和可靠性
    - 實現正確的資源限制和請求，防止資源爭用
    - 配置日誌收集和滾動策略，便於故障診斷
    - 設置適當的重啟策略，增強系統韌性
2. 開發環境變量配置模板，支持不同部署場景：
    - 設計環境變量架構，分離代碼和配置
    - 創建不同環境的配置模板(開發、測試、生產)
    - 實現敏感信息的安全處理機制
    - 提供配置驗證功能，防止錯誤配置
    - 開發配置生成工具，簡化定制過程
    - 建立配置版本控制和變更管理
    - 實現配置繼承和覆蓋機制，減少重複定義
3. 編寫部署自動化腳本，簡化部署過程：
    - 開發一鍵部署腳本，自動執行所有部署步驟
    - 實現增量部署功能，加速更新過程
    - 添加預檢和後檢步驟，確保部署質量
    - 開發回滾機制，在部署失敗時快速恢復
    - 實現併發部署，縮短部署時間
    - 添加詳細日誌和進度報告，提高可觀察性
    - 開發部署監控儀表板，實時顯示部署狀態
4. 實現配置驗證機制，防止錯誤配置導致部署失敗：
    - 開發配置模式驗證工具，檢查格式和語法
    - 實現配置一致性檢查，確保相關配置的協調
    - 添加環境兼容性驗證，確保配置適合目標環境
    - 開發配置模擬測試，在部署前驗證配置效果
    - 實現配置審計功能，記錄配置變更和責任人
    - 建立配置最佳實踐檢查，提供優化建議
    - 開發配置可視化工具，便於理解和修改
5. 設計備份和恢復策略，保障系統數據安全：
    - 制定備份策略，包括範圍、頻率和保留期
    - 實現自動化備份機制，減少人工干預
    - 開發增量備份功能，優化存儲和性能
    - 設計灾難恢復流程，應對各種失敗場景
    - 實施備份加密和訪問控制，確保數據安全
    - 開發備份驗證機制，確保備份的有效性
    - 建立恢復演練計劃，定期測試恢復能力
6. 測試不同環境下的部署流程，確保部署的可靠性：
    - 設計部署測試矩陣，覆蓋不同硬件和網絡環境
    - 實施自動化部署測試，驗證部署過程的可靠性
    - 模擬各種故障場景，測試自動恢復能力
    - 執行性能測試，評估部署速度和資源消耗
    - 開展用戶體驗測試，評估部署過程的易用性
    - 收集和分析測試數據，識別改進機會
    - 持續迭代和優化部署流程，提高成功率

**預期成果**：一套高度自動化、可靠且高效的部署解決方案，能夠在實驗室和戶外環境中快速部署完整系統，支持一鍵式部署和回滾。部署流程具備自檢和自修復能力，能夠適應不同的網絡條件和硬件環境，支持增量更新和零停機部署。提供詳細的部署監控和報告機制，實時反映部署狀態和潛在問題。同時建立完整的備份和恢復方案，確保系統數據安全和快速恢復能力。整個部署套件經過充分測試，確保在各種條件下都能可靠運行。

**階段性意義與必要性**：
部署流程優化是將系統從開發環境轉移到實際應用環境的關鍵環節。若不完成此任務，即使系統功能完美，也可能因部署複雜或不可靠而無法有效使用，尤其是在戶外測試和實戰環境中。這項任務直接支持 GPT.md 中的 M-12 里程碑「戶外 5 km 驗測」，確保系統能夠在實際條件下快速部署和驗證。從軍事應用角度看，高效可靠的部署流程直接關係到系統的戰備水平和響應能力，符合「營級作戰範圍」的實戰需求。在資源受限或通信不穩定的前線環境，簡化的部署流程和自修復能力尤為重要，能夠確保系統在複雜條件下正常運行。此外，自動化部署也大幅降低了操作人員的技術門檻，使得前線單位能夠獨立完成系統部署和基本維護，提高了系統的實用性和可用性。從長期角度看，穩定的部署流程也是系統可持續發展的基礎，為未來的功能更新和擴展提供了可靠的交付渠道。

## 九、驗測與演示準備

### 19. 實驗室驗測準備與執行

**目的**：在實驗室環境中系統性地驗證系統功能和性能，為戶外驗測做技術準備，發現和解決潛在問題，確保系統在受控環境下達到所有設計指標，降低戶外測試的風險和成本。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」核心目標。在專案里程碑中明確要求「M-9 (116 Q2): E2E Ping < 50 ms；中斷後 2s 內重建連線」，這些指標必須首先在實驗室環境中得到驗證，才能進入戶外測試階段。GPT.md 工作流程中提到的「飛行軌跡調整」和「Jammer 與 AI-RAN 跳頻 Demo」也需要在實驗室中進行初步測試和調整。實驗室驗測是串聯前期開發和後期實戰應用的關鍵橋樑，確保系統從技術可行性走向實用性，是實現「30 km 營級作戰範圍的 Two-Tier BLOS 通訊系統」最終目標的必經階段。這一驗測過程也直接決定了系統能否滿足「Coverage > 0.75、Transport Rate > 0.65」等關鍵性能指標。

**方法**：

-   搭建實驗室測試環境，創建一個能夠模擬實際部署條件但又便於精確控制和測量的測試平台，支持系統各組件的協同測試和性能評估
-   執行全面功能測試，系統性地驗證所有設計功能的正確實現和協同工作能力，確保系統功能的完整性和可靠性
-   性能量化評估，通過精確測量和科學分析，對系統的關鍵性能指標進行量化評估，為後續優化提供依據，確保系統滿足設計目標

**步驟**：

1. 準備實驗室測試環境，配置所需硬件和網絡：
    - 設置符合項目需求的服務器集群，包括計算節點和存儲系統
    - 配置模擬 UAV 的終端設備，支持多種位置和移動場景
    - 部署網絡模擬器，能夠模擬衛星通信的延遲和帶寬特性
    - 設置干擾源模擬設備，產生可控和可重複的干擾信號
    - 配置測量儀器和監控系統，實時捕獲和記錄系統性能數據
    - 建立環境隔離措施，確保測試不受外部因素干擾
    - 實施完整的數據備份和恢復方案，保護測試數據和配置
2. 部署完整系統，包括所有組件：
    - 安裝和配置 Open5GS 核心網，確保所有網絡功能正確運行
    - 部署 UERANSIM 實例，模擬 gNodeB 和 UE 的行為
    - 配置 Sionna 無線通道模擬環境，提供真實的信道特性
    - 設置 Skyfield 衛星軌道計算系統，生成精確的衛星位置數據
    - 部署 API 服務和前端界面，實現完整的用戶交互功能
    - 配置 Mesh 網絡備援系統，測試網絡切換和恢復能力
    - 啟動監控和日誌系統，為測試過程提供可觀察性
3. 設計測試計劃，覆蓋所有功能點：
    - 制定基本連接測試方案，驗證系統建立和維持連接的能力
    - 設計數據傳輸測試，評估不同負載下的吞吐量和延遲
    - 規劃干擾測試場景，驗證系統在不同類型干擾下的抗干擾能力
    - 設計衛星切換測試，評估衛星移動時系統的切換效能
    - 制定網絡備援測試，驗證失聯後的自動切換和恢復機制
    - 規劃長時間穩定性測試，評估系統在持續運行下的可靠性
    - 設計用戶體驗測試，評估系統操作的直觀性和效率
4. 執行功能測試，驗證基本功能正確性：
    - 進行衛星位置計算測試，驗證軌道數據的準確性
    - 測試 gNodeB 參數配置功能，確認衛星位置轉換為無線參數的正確性
    - 執行 UE 接入測試，驗證用戶設備的注冊和認證流程
    - 測試數據會話建立，確認 PDU 會話管理和 QoS 實施
    - 驗證網絡切片功能，確保不同業務類型的資源隔離
    - 測試 Mesh 網絡接入和路由，驗證備援網絡的可用性
    - 執行 API 功能測試，確認所有接口的正確響應和數據處理
5. 執行性能測試，評估系統性能指標：
    - 測量端到端通信延遲，驗證是否達到小於 50ms 的目標
    - 評估系統吞吐量，測定在不同信道條件下的數據傳輸能力
    - 測試連接中斷恢復時間，確認是否符合 2 秒內重建連線的要求
    - 評估抗干擾性能，測量不同干擾條件下的 SINR 和速率下降程度
    - 測試多用戶並發性能，評估系統在多 UAV 同時接入時的表現
    - 測量資源利用效率，包括 CPU、內存和網絡資源的使用情況
    - 評估前端界面響應時間，確保用戶體驗流暢
6. 收集和分析測試數據，編寫測試報告：
    - 記錄所有測試用例的執行結果和性能數據
    - 對比測試結果與設計目標，識別差距和不足
    - 分析性能瓶頸和限制因素，為優化提供方向
    - 記錄發現的功能缺陷和邊界情況，建立問題跟踪系統
    - 生成詳細的測試報告，包括功能覆蓋率和性能指標達成情況
    - 製作測試結果演示材料，直觀展示系統能力和性能
    - 制定優化和修復計劃，解決測試中發現的問題

**預期成果**：一份完整的實驗室驗測報告，詳細記錄系統在受控環境下的功能完整性和性能指標，包括端到端延遲、吞吐量、連接恢復時間和抗干擾能力等關鍵數據。報告應包含測試環境配置、測試方法、測試結果及其與目標的對比分析，以及發現的問題和改進建議。同時，建立一個穩定、可重現的測試環境，支持後續的功能迭代和性能優化。實驗室驗測應確認系統基本功能正常，核心性能指標達到或接近設計目標，為戶外測試階段提供技術基礎和信心保障。

**階段性意義與必要性**：
實驗室驗測是系統從開發走向實際應用的第一道關口。若跳過此階段直接進行戶外測試，將大幅增加測試成本和失敗風險，並可能錯過許多只有在受控環境中才容易發現和調試的問題。這項任務直接支持 GPT.md 中的 M-9 里程碑，是確認系統能否滿足關鍵性能指標的必要步驟。從軍事應用角度看，通信系統的可靠性和性能直接影響作戰能力，實驗室驗測提供了在無風險環境下全面評估系統能力的機會，確保系統在部署前已達到最佳狀態。此外，實驗室測試的數據和經驗也為戶外測試提供了重要參考，幫助制定更有針對性的測試計劃，提高戶外測試的效率和成功率。從專案管理角度看，此階段也是重要的質量控制點，為進入下一階段提供了客觀的決策依據，確保資源被有效利用在已經達到基本質量標準的系統上。

### 20. Link-Budget & RF-HW 規格表

**目的**：確定衛星-UAV-地面通信鏈路的射頻硬體規格和鏈路預算，確保系統具備足夠的鏈路餘裕，能夠在各種環境條件下保持可靠通信。

**專案目標關聯**：
此任務支持 GPT.md 中的「30 km 營級作戰範圍的 Two-Tier BLOS 通訊系統」核心目標。雖然專案主要聚焦軟體開發，但實際部署時必須確保硬體參數與軟體模型一致，特別是 Open5GS/UERANSIM 模型中使用的無線參數必須與實際 SDR 設備匹配。準確的 Link-Budget 對於確保「Coverage > 0.75」的專案指標尤為重要，它直接決定了系統的覆蓋範圍和可靠性。

**方法**：

-   設計詳細的 Link-Budget 計算模型，考慮所有影響鏈路性能的因素
-   指定 SDR 硬體規格和天線參數，確保支持所需的功率和頻段
-   建立鏈路餘裕評估方法，確保系統在不利條件下仍能維持通信

**鏈路預算計算表**：

| 參數                | 衛星下行鏈路 | UAV 上行鏈路 | UAV-地面 Mesh 鏈路 | 單位  |
| ------------------- | ------------ | ------------ | ------------------ | ----- |
| **發射端參數**      |              |              |                    |       |
| 發射功率            | 25           | 5            | 3                  | dBW   |
| 天線增益            | 30           | 5            | 3                  | dBi   |
| 天線指向損耗        | -1           | -2           | -1                 | dB    |
| EIRP                | 54           | 8            | 5                  | dBW   |
| **傳播損耗**        |              |              |                    |       |
| 自由空間損耗        | -177         | -177         | -120               | dB    |
| 大氣損耗            | -1           | -1           | -0.5               | dB    |
| 雨衰 (99.9% 可用性) | -3           | -3           | -1.5               | dB    |
| 總傳播損耗          | -181         | -181         | -122               | dB    |
| **接收端參數**      |              |              |                    |       |
| 天線增益            | 5            | 30           | 3                  | dBi   |
| 系統雜訊溫度        | 290          | 350          | 290                | K     |
| 接收機雜訊指數      | 2            | 1.5          | 3                  | dB    |
| G/T                 | -19          | 5.1          | -22                | dB/K  |
| **鏈路分析**        |              |              |                    |       |
| 接收 C/N0           | 66           | 64.1         | 70                 | dB-Hz |
| 所需 C/N0           | 54           | 54           | 50                 | dB-Hz |
| 鏈路餘裕            | 12           | 10.1         | 20                 | dB    |
| 數據速率            | 10           | 5            | 50                 | Mbps  |
| 調制方式            | QPSK/8PSK    | QPSK         | 64QAM/OFDM         | -     |
| 編碼方式            | LDPC 1/2     | LDPC 3/4     | LDPC 5/6           | -     |

**RF 硬體規格表**：

| 設備類型          | 參數      | 規格                             | 單位 |
| ----------------- | --------- | -------------------------------- | ---- |
| **衛星通信 SDR**  |           |                                  |      |
| 頻率範圍          | Ka 頻段   | 27.5-31 (上行), 17.7-21.2 (下行) | GHz  |
| 帶寬              | 可配置    | 最大 500                         | MHz  |
| 發射功率          | 可配置    | 最大 10                          | W    |
| 接收靈敏度        | -         | -130                             | dBm  |
| ADC/DAC           | 解析度    | 14/16                            | bit  |
|                   | 採樣率    | 最大 1                           | GSPS |
| **UAV SDR**       |           |                                  |      |
| 頻率範圍          | 衛星鏈路  | 17.7-21.2 (接收), 27.5-31 (發射) | GHz  |
|                   | Mesh 網路 | 2.4/5.8                          | GHz  |
| 帶寬              | 衛星鏈路  | 最大 100                         | MHz  |
|                   | Mesh 網路 | 最大 160                         | MHz  |
| 發射功率          | 衛星鏈路  | 最大 3                           | W    |
|                   | Mesh 網路 | 最大 1                           | W    |
| 接收靈敏度        | 衛星鏈路  | -125                             | dBm  |
|                   | Mesh 網路 | -90                              | dBm  |
| 尺寸              | -         | 10x8x3                           | cm   |
| 重量              | -         | 最大 350                         | g    |
| 功耗              | -         | 最大 15                          | W    |
| **地面 Mesh SDR** |           |                                  |      |
| 頻率範圍          | -         | 2.4/5.8                          | GHz  |
| 帶寬              | -         | 最大 160                         | MHz  |
| 發射功率          | -         | 最大 2                           | W    |
| 接收靈敏度        | -         | -95                              | dBm  |
| MIMO              | 配置      | 4x4                              | -    |
| 天線              | 型式      | 全向/扇形可切換                  | -    |
|                   | 增益      | 3-10                             | dBi  |

**與 Open5GS/UERANSIM 模型校準**：

| 參數類型 | 實體硬體參數                        | 模擬器對應參數                       | 校準方法                                     |
| -------- | ----------------------------------- | ------------------------------------ | -------------------------------------------- |
| 鏈路延遲 | 衛星距離導致的傳播延遲 (~120-250ms) | 在 Open5GS 中設置更長的 N1/N2 計時器 | 根據軌道高度計算實際延遲，調整軟體計時器     |
| 頻率偏移 | 多普勒效應導致的頻率偏移 (±50kHz)   | UERANSIM 中實現頻率偏移補償          | 使用 Skyfield 計算相對速度，轉換為頻率偏移值 |
| 傳輸功率 | SDR 最大輸出功率                    | UERANSIM 中的功率控制參數            | 將實際功率值轉換為相對指標，調整模擬設置     |
| 信號衰減 | 自由空間損失加額外損耗              | Sionna 中的通道模型參數              | 測量實際衰減曲線，校準模型衰減系數           |
| 覆蓋範圍 | 取決於鏈路餘裕和地形                | UERANSIM 中的小區半徑設置            | 基於 Link-Budget 計算和實測數據調整覆蓋模型  |
| 吞吐量   | 受帶寬和調製方式限制                | Open5GS 中的 QoS 配置                | 實測最大吞吐量，在模型中設置相應限制         |

**預期成果**：完整的 Link-Budget 文檔和 RF-HW 規格定義，為實際硬體選擇提供明確指導，並確保 Open5GS/UERANSIM 模型中使用的參數與實際設備匹配。這些規格將確保系統能在指定的 30km 營級作戰範圍內保持可靠通信，並達到所需的覆蓋率和數據傳輸能力。

**階段性意義與必要性**：
精確的 Link-Budget 和硬體規格定義是連接理論設計與實際部署的關鍵橋樑。若不完成此任務，軟體模擬中使用的參數將缺乏實際依據，導致模擬結果與實際部署有顯著差異，影響系統可靠性評估的準確性。這項工作直接支持 GPT.md 中的性能指標驗證，特別是「Coverage > 0.75」的覆蓋率目標，為硬體採購提供明確指導，同時確保軟體模型校準到真實物理參數。從工程角度看，這是系統設計從理論走向實踐的必要轉變，確保最終部署的系統能夠達到預期性能目標。

### 21. 法規與頻譜合規檢查

**目的**：確保系統在頻譜使用上符合法規要求，獲取必要的臨時執照和許可，避免法律風險，同時確保系統不干擾既有合法通信業務。

**專案目標關聯**：
這項任務支持 GPT.md 中的「戶外 5 km 驗測」和「30 km 營級作戰範圍」目標。任何無線通信系統的戶外測試都必須遵守頻譜管理法規，特別是軍民兩用的通信設備在非軍事指定頻段的使用。合規檢查和必要執照的取得是實現 M-12 階段戶外驗測的先決條件，也是系統最終部署的法律保障。

**方法**：

-   分析系統使用的頻段和功率參數，評估對應的法規要求
-   制定頻譜合規策略，包括執照申請流程和測試限制條件
-   建立合規檢查清單，確保系統在設計和操作上符合監管要求

**頻譜使用分析**：

| 系統組件       | 使用頻段                        | 最大功率 | 監管機構               | 使用類型     | 合規要求       |
| -------------- | ------------------------------- | -------- | ---------------------- | ------------ | -------------- |
| 衛星通信鏈路   | Ka 頻段 (17.7-21.2/27.5-31 GHz) | 10W      | NCC/國家通訊傳播委員會 | 固定衛星業務 | 需取得實驗執照 |
| UAV-地面 Mesh  | 5.8 GHz ISM 頻段                | 1W       | NCC                    | 免執照使用   | 須符合功率限制 |
| 備用 Mesh 鏈路 | 2.4 GHz ISM 頻段                | 2W       | NCC                    | 免執照使用   | 須符合功率限制 |
| 指揮控制鏈路   | 915 MHz                         | 0.5W     | NCC                    | 免執照使用   | 須符合功率限制 |

**執照申請流程**：

1. **臨時實驗執照申請**：

    - 申請窗口：國家通訊傳播委員會 (NCC) 射頻與資源管理處
    - 必要文件：
        - 實驗目的說明書
        - 技術規格說明 (頻率、功率、調變方式)
        - 實驗地點和時間規劃
        - 干擾防制計畫
        - 安全管理方案
    - 申請時間：建議提前 3 個月
    - 責任窗口：通訊系統團隊主管
    - 審核時間：約 4-6 週

2. **國防科技研究專用頻率協調**：

    - 申請窗口：國防部通資電軍官
    - 協調事項：
        - 測試時間與軍方演訓時間協調
        - 干擾通報與處理機制
        - 敏感區域禁航規定
    - 申請時間：建議提前 2 個月
    - 責任窗口：專案軍方聯絡官
    - 處理時間：約 3-4 週

3. **UAV 飛行許可**：
    - 申請窗口：民航局遙控無人機管理單位
    - 必要文件：
        - 操作人員證照
        - 飛行計畫
        - 風險評估報告
        - 緊急應變計畫
    - 申請時間：測試前 30 天
    - 責任窗口：UAV 操作團隊負責人
    - 審核時間：約 2-3 週

**合規風險與緩解措施**：

| 風險類型               | 潛在影響             | 緩解措施                                                  | 責任人     |
| ---------------------- | -------------------- | --------------------------------------------------------- | ---------- |
| 頻率干擾既有業務       | 測試中斷，法律責任   | 1. 實時頻譜監測<br>2. 建立干擾通報機制<br>3. 快速關閉能力 | 射頻工程師 |
| 執照審核延遲           | 測試計畫延期         | 1. 提前申請<br>2. 準備備選測試計畫<br>3. 降級測試方案     | 專案經理   |
| 超出許可參數           | 違規罰款，執照吊銷   | 1. 實時參數監控<br>2. 硬體限制設置<br>3. 測試前檢查清單   | 系統工程師 |
| 敏感區域誤闖           | 安全風險，法律責任   | 1. 地理圍欄設置<br>2. 預先飛行路徑審核<br>3. 實時位置監控 | UAV 操作員 |
| 氣象條件不符合飛行要求 | 測試延期或數據不可靠 | 1. 備選測試日期<br>2. 氣象監測系統<br>3. 快速拆卸流程     | 現場總監   |

**驗測與演示準備章節補充**：

在第 9 章「驗測與演示準備」的「19. 戶外驗測支持計劃」中增加以下內容：

1. **法規遵循準備**：

    - 確認所有必要執照和許可均已取得
    - 執行測試前頻率掃描，確認測試頻段無既有使用
    - 設置頻譜監測站，實時檢測潛在干擾
    - 準備測試日誌，記錄所有頻率使用情況
    - 建立與地方頻譜管理機構的緊急聯絡機制

2. **執照文件準備**：
    - 現場備份所有許可證明文件
    - 制作執照範圍速查表，確保測試在許可範圍內
    - 準備便攜式參數顯示設備，實時顯示發射功率等關鍵參數
    - 制定參數超限響應流程

**預期成果**：完整的頻譜合規檢查報告和所有必要的臨時執照申請文件，確保戶外測試能夠合法進行。明確的合規策略和風險管理計畫，預防潛在法律問題，並建立與監管機構的良好溝通機制。這些準備工作將確保系統開發和測試符合法規要求，同時為未來實際部署提供法律與合規參考。

**階段性意義與必要性**：
頻譜合規是無線通信系統從實驗室走向實際應用的法律門檻。不完成此任務將導致戶外測試無法合法進行，或面臨巨大法律風險和處罰。這項工作直接支持 GPT.md 中的 M-12 里程碑，是「戶外 5 km 驗測」的必要條件。從專案管理角度看，提前識別和處理合規問題可避免後期因法規障礙導致的計畫延誤和資源浪費。從長期發展看，建立良好的法規合規流程和關係也為系統未來的實際部署和使用奠定基礎，降低法律風險，提高專案的可持續性。

### 22. 風險登錄表與緩解措施

**目的**：識別專案執行過程中的主要風險，評估其影響程度和發生可能性，並制定有效的緩解措施，確保專案能夠應對潛在挑戰，保持進度和質量。

**專案目標關聯**：
這項任務支持 GPT.md 中提到的各項里程碑的順利達成，尤其關鍵的是確保「E2E Ping < 50 ms」和「戶外 5 km 驗測」等關鍵指標能夠按計畫實現。通過風險識別和管理，預先規劃替代方案，避免因不可預見的問題導致專案延遲或失敗。

**風險登錄表**：

| 風險 ID | 風險描述                                  | 影響領域         | 可能性 | 影響程度 | 風險等級 | 緩解措施                                                                      | 責任人       | 監控指標             |
| ------- | ----------------------------------------- | ---------------- | ------ | -------- | -------- | ----------------------------------------------------------------------------- | ------------ | -------------------- |
| R-01    | GPU 資源不足，無法滿足 Sionna 模擬需求    | 無線通道模擬     | 高     | 高       | 極高     | 1. 預訂雲端 GPU 資源<br>2. 優化算法減少 GPU 需求<br>3. 實施分批處理策略       | 系統架構師   | GPU 利用率、處理時間 |
| R-02    | 衛星可視性受天氣影響，戶外測試無法進行    | 驗測與演示       | 中     | 高       | 高       | 1. 選擇多個備選測試日期<br>2. 準備室內測試替代方案<br>3. 建立天氣預報監控機制 | 測試經理     | 測試完成率           |
| R-03    | Mesh 與衛星雙頻段間產生相互干擾           | 系統集成         | 中     | 高       | 高       | 1. 實施頻段隔離設計<br>2. 開發動態頻率選擇算法<br>3. 增加濾波器設計           | RF 工程師    | 干擾測量報告         |
| R-04    | Open5GS 特定版本在 NTN 場景中存在 bug     | 基礎 5G 網絡功能 | 中     | 中       | 中       | 1. 提前測試多個版本<br>2. 維護自定義修補分支<br>3. 與社區合作解決問題         | 軟體工程師   | 系統穩定性測試       |
| R-05    | UAV 飛行時間限制影響長時間測試            | UAV 設備整合     | 高     | 中       | 高       | 1. 設計電池快速更換機制<br>2. 部署多台 UAV 輪替<br>3. 優化測試流程減少時間    | UAV 操作團隊 | 測試持續時間         |
| R-06    | 核心開發人員離職導致知識缺失              | 專案管理         | 低     | 高       | 中       | 1. 建立知識管理系統<br>2. 實施跨培訓計畫<br>3. 詳細文檔化所有設計決策         | 專案經理     | 文檔完整性指標       |
| R-07    | 晶片供應鏈短缺影響硬體採購                | 硬體準備         | 中     | 高       | 高       | 1. 提前採購關鍵元件<br>2. 識別多個替代供應商<br>3. 設計可使用替代元件的方案   | 採購經理     | 庫存水平監控         |
| R-08    | 密集測試期間頻譜干擾造成資料不可信        | 測試與驗證       | 中     | 中       | 中       | 1. 實施頻譜監控<br>2. 測試前掃描環境<br>3. 開發干擾檢測和過濾算法             | 測試工程師   | 背景干擾水平         |
| R-09    | 專利衝突或法律限制阻礙技術使用            | 法規與合規       | 低     | 高       | 中       | 1. 進行專利檢索<br>2. 諮詢法律專家<br>3. 設計替代技術路徑                     | 法務顧問     | 法律風險評估         |
| R-10    | AI 模型訓練數據不足，影響干擾識別精確度   | AI-RAN 實現      | 高     | 中       | 高       | 1. 生成合成訓練數據<br>2. 實施數據增強技術<br>3. 開發半監督學習方法           | AI 研究員    | 模型準確度指標       |
| R-11    | 網絡切換時延過長，無法達到 2 秒內恢復連線 | 網絡性能         | 中     | 高       | 高       | 1. 優化切換協議<br>2. 實現預測性切換<br>3. 保持雙連接狀態                     | 網絡工程師   | 切換時延測量         |
| R-12    | 系統集成複雜度超出預期，延遲交付          | 系統集成         | 中     | 高       | 高       | 1. 模塊化設計<br>2. 增加集成測試頻率<br>3. 實施敏捷開發方法                   | 系統架構師   | 集成進度指標         |

**風險應對策略與管理流程**：

1. **風險監控頻率**：

    - 極高風險：每週評估
    - 高風險：每兩週評估
    - 中風險：每月評估
    - 低風險：每季度評估

2. **風險上報流程**：

    - 風險狀態變更 → 團隊負責人 → 專案經理 → 指導委員會（如需要）
    - 新風險識別 → 風險登記 → 風險評估 → 納入風險登錄表 → 制定緩解計畫

3. **風險應對準備金**：
    - 時間緩衝：各里程碑增加 15%的時間緩衝
    - 預算準備金：總預算的 12%作為風險應對準備金
    - 技術替代方案：關鍵技術點準備 B 計畫

**預期成果**：全面的風險管理計畫，包括完整的風險登錄表、監控機制和應對策略。這將使專案團隊能夠前瞻性地管理風險，減少突發事件對進度和成果的影響，提高專案成功的可能性。風險管理將融入日常專案管理流程，確保持續的風險意識和快速響應機制。

**階段性意義與必要性**：
風險管理是專案成功的關鍵保障。若不實施有效的風險識別和緩解，專案將面臨突發事件導致的重大延遲或失敗風險。這項任務對於確保專案能夠按計畫完成所有里程碑至關重要，特別是考慮到專案涉及多種前沿技術和複雜系統集成。從專案管理角度看，主動的風險管理可以顯著降低不確定性，提高專案的可預測性和穩定性，為團隊提供清晰的應對機制，使專案能夠在面對挑戰時保持彈性和適應力。

### 23. 成本估算與採購計畫

**目的**：制定全面的成本估算和採購計畫，確保專案有足夠的資源支持，並優化預算使用，有效管理硬體、軟體和服務採購流程。

**專案目標關聯**：
這項任務為 GPT.md 中描述的所有技術目標提供資源保障。適當的預算規劃和採購管理是確保「Two-Tier BLOS 通訊系統」能夠順利開發和部署的關鍵支持條件，尤其是對於需要大量硬體設備的「實驗室與戶外驗測」階段。

**成本估算表**：

| 類別           | 項目                  | 數量 | 單價 (NTD) | 總價 (NTD) | 用途說明                 |
| -------------- | --------------------- | ---- | ---------- | ---------- | ------------------------ |
| **計算硬體**   |                       |      |            |            |                          |
|                | GPU 伺服器 (4x A100)  | 2    | 1,500,000  | 3,000,000  | Sionna 模擬、AI-RAN 訓練 |
|                | 開發工作站            | 10   | 80,000     | 800,000    | 軟體開發與測試           |
|                | 邊緣計算節點          | 5    | 60,000     | 300,000    | 現場部署與測試           |
|                | 存儲伺服器 (100TB)    | 1    | 500,000    | 500,000    | 模擬數據與訓練集         |
| **無線設備**   |                       |      |            |            |                          |
|                | Ka 頻段 SDR 設備      | 4    | 450,000    | 1,800,000  | 衛星通信模擬             |
|                | 通用 SDR (USRP X410)  | 8    | 300,000    | 2,400,000  | Mesh 網絡與測試          |
|                | UAV 專用 SDR          | 6    | 180,000    | 1,080,000  | UAV 通信模塊             |
|                | 天線系統套件          | 6    | 120,000    | 720,000    | 衛星通信與 Mesh 網絡     |
| **UAV 平台**   |                       |      |            |            |                          |
|                | 工業級六旋翼無人機    | 4    | 350,000    | 1,400,000  | 通信網絡節點             |
|                | 備用電池與配件        | 20   | 25,000     | 500,000    | 延長操作時間             |
|                | 地面控制站設備        | 2    | 200,000    | 400,000    | UAV 控制與監控           |
| **測試設備**   |                       |      |            |            |                          |
|                | 頻譜分析儀            | 2    | 650,000    | 1,300,000  | 頻譜監測與干擾分析       |
|                | 網絡分析儀            | 1    | 800,000    | 800,000    | 通信性能測量             |
|                | 可攜式測試套件        | 4    | 150,000    | 600,000    | 現場測試與驗證           |
|                | 環境模擬器            | 1    | 500,000    | 500,000    | 實驗室環境模擬           |
| **軟體與服務** |                       |      |            |            |                          |
|                | 專業軟體許可          | 多項 | -          | 1,200,000  | 開發工具與模擬軟體       |
|                | 雲端 GPU 資源         | 按需 | -          | 1,500,000  | 峰值計算需求             |
|                | Grafana Cloud 等 SaaS | 年費 | -          | 800,000    | 監控與數據可視化         |
|                | 技術諮詢服務          | 按需 | -          | 1,000,000  | 專家顧問支持             |
| **測試與部署** |                       |      |            |            |                          |
|                | 測試場地租用          | 多次 | -          | 1,200,000  | 戶外測試環境             |
|                | 設備運輸與保險        | 估計 | -          | 500,000    | 設備安全運送             |
|                | 現場支援與後勤        | 估計 | -          | 800,000    | 測試期間人員和設備支持   |
| **風險準備金** |                       |      |            | 2,600,000  | 約總預算的 12%           |
| **總計**       |                       |      |            | 25,800,000 |                          |

**採購時程計畫**：

| 階段           | 採購項目         | 啟動時間          | 交付時間        | 負責團隊 | 採購方式 |
| -------------- | ---------------- | ----------------- | --------------- | -------- | -------- |
| **階段前準備** | GPU 伺服器       | 專案開始前 3 個月 | 專案開始時      | 系統團隊 | 公開招標 |
|                | 開發工作站       | 專案開始前 2 個月 | 專案開始時      | IT 團隊  | 比價採購 |
|                | 專業軟體許可     | 專案開始前 1 個月 | 專案開始時      | 開發團隊 | 直接採購 |
| **M-3 準備**   | 存儲伺服器       | 專案開始          | M-3 前 1 個月   | 系統團隊 | 公開招標 |
|                | USRP 設備(首批)  | 專案開始          | M-3 前 1 個月   | RF 團隊  | 比價採購 |
|                | 通用開發套件     | 專案開始          | M-3 前 2 週     | 開發團隊 | 直接採購 |
| **M-6 準備**   | Ka 頻段 SDR 設備 | M-3               | M-6 前 1.5 個月 | RF 團隊  | 國際招標 |
|                | UAV 平台(首批)   | M-3               | M-6 前 1 個月   | UAV 團隊 | 比價採購 |
|                | 天線系統套件     | M-3               | M-6 前 1 個月   | RF 團隊  | 直接採購 |
| **M-9 準備**   | 測試儀表設備     | M-6               | M-9 前 1.5 個月 | 測試團隊 | 公開招標 |
|                | UAV 備用設備     | M-6               | M-9 前 1 個月   | UAV 團隊 | 直接採購 |
|                | SaaS 服務開通    | M-6               | M-9 前 2 週     | IT 團隊  | 線上採購 |
| **M-12 準備**  | 現場測試設備     | M-9               | M-12 前 1 個月  | 測試團隊 | 比價採購 |
|                | 緊急備件         | M-9               | M-12 前 3 週    | 各團隊   | 快速採購 |
|                | 現場支援服務     | M-9               | M-12 前 2 週    | 測試團隊 | 詢價採購 |

**雲端與 SaaS 資源管理策略**：

1. **GPU 雲端資源**：

    - 基礎訓練使用本地 GPU 伺服器
    - 峰值需求使用 AWS EC2 P4d/P5 實例或 Google Cloud TPU v4
    - 採用預留實例+按需實例混合策略，控制成本
    - 實施自動擴展和縮減機制，優化使用效率

2. **監控與可觀測性服務**：

    - Grafana Cloud 企業版，年度訂閱
    - Prometheus 遙測資料存儲，按數據量計費
    - Loki 日誌管理，配置保留策略控制成本
    - 開發獨立導出功能，允許關鍵數據本地存儲

3. **雲端成本優化措施**：
    - 實施資源標記和成本分配，明確各模塊資源使用
    - 配置使用量警報，防止意外超支
    - 建立資源休眠策略，非工作時間自動關閉非關鍵服務
    - 定期審核使用情況，識別優化機會

**預期成果**：詳細的專案預算和成本控制計畫，包括具體的設備採購清單、時程安排和採購策略。採購計畫將確保所有必要硬體和服務能夠按時到位，支持專案各階段的工作需求。成本估算將提供清晰的資金需求規劃，幫助管理層做出資源分配決策，同時識別成本優化機會。

**階段性意義與必要性**：
精確的成本估算和高效的採購管理是專案執行的物質基礎。若不完成此任務，專案將面臨資源短缺、設備遲延和預算超支的風險，直接影響各里程碑的實現。這項工作對於確保高價值設備（如 GPU 伺服器、SDR 設備和測試儀器）能夠及時到位尤為重要，這些設備對於系統開發和測試是不可或缺的。從專案管理角度看，透明的成本結構和採購計畫有助於提高資源使用效率，確保資金投入產生最大價值，同時為可能的預算調整提供依據。此外，針對雲端和 SaaS 資源的規劃也反映了現代開發環境對靈活計算資源的需求，確保專案能夠在固定資產和可變服務間取得最佳平衡。

### 24. 可觀測性指標統一格式

**目的**：定義系統監控指標的統一命名空間和標記規範，確保來自不同組件的監控數據能夠一致整合，簡化儀表板開發和維護工作，提高系統診斷和分析能力。

**專案目標關聯**：
此任務支持 GPT.md 中提到的「Prometheus + Grafana 收集 Sionna GPU 使用率、5G KPI」目標。標準化的監控指標格式是實現「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」的基礎，確保各模塊性能數據能夠一致收集和比較，支持系統整體性能評估。

**方法**：

-   設計監控指標命名空間和結構，確保一致性和可擴展性
-   定義標準標籤（labels）和維度，支持多角度數據分析
-   開發指標收集最佳實踐，確保各模塊遵循統一標準

**步驟**：

1. 設計指標命名空間結構，建立清晰的分層體系：

    - 採用 `{domain}_{subsystem}_{metric}` 格式，例如 `ntn_gnb_sinr`
    - 主要領域包含：`ntn`（非地面網絡）、`open5gs`（核心網）、`ueransim`（RAN 模擬）、
      `sionna`（無線模擬）、`mesh`（網絡）、`ai`（智能控制）
    - 確保命名遵循 Prometheus 命名最佳實踐，使用小寫和下劃線分隔
    - 建立指標命名審核機制，避免不一致或重複定義

2. 定義標準標籤集，支持多維度數據分析：

    - 公共標籤：`environment`（dev/test/prod）、`node`（主機名）、`service`（服務名）
    - 網絡標籤：`component`（AMF/SMF/UPF 等）、`interface`（N1/N2/N3 等）
    - 無線標籤：`cell_id`、`frequency`、`bandwidth`、`modulation`
    - UAV 標籤：`uav_id`、`altitude`、`velocity`、`connection_type`（satellite/mesh）
    - 位置標籤：`location`、`coordinates`、`coverage_area`
    - 測試標籤：`test_id`、`scenario`、`test_case`

3. 為核心指標類型建立統一定義，確保一致的數據含義：

    - 連接指標：`connection_state`、`registration_time`、`authentication_success_rate`
    - 性能指標：`rtt_ms`、`throughput_mbps`、`packet_loss_percent`
    - 資源指標：`cpu_utilization`、`memory_usage`、`bandwidth_utilization`
    - 無線指標：`sinr_db`、`rsrp_dbm`、`channel_quality_index`
    - 干擾指標：`interference_level`、`interference_type`、`mitigation_success_rate`
    - 業務指標：`service_availability`、`session_count`、`data_volume_mb`

4. 開發指標聚合和統計規範，支持不同時間尺度分析：

    - 定義標準聚合窗口：10s、1m、5m、1h、1d
    - 標準化聚合函數：avg、max、min、sum、percentile(95)
    - 建立長期趨勢分析指標，如 `ntn_gnb_sinr_daily_avg`
    - 規範異常值處理方法，確保統計的代表性
    - 配置適當的指標保留期，平衡存儲需求和歷史數據可用性

5. 為 Prometheus 配置制定最佳實踐：

    - 標準化抓取間隔：基本指標 15s，重要指標 5s，關鍵指標 1s
    - 優化標簽基數，避免高基數問題導致的性能下降
    - 建立指標元數據註冊機制，自動生成指標文檔
    - 定義告警閾值標準和命名規範
    - 配置數據壓縮和遠程存儲策略，優化長期存儲效率

6. 開發統一的指標集成和驗證工具：

    - 建立指標註冊和驗證 API，確保新指標符合規範
    - 開發指標模擬器，產生測試數據，用於儀表板開發
    - 實現指標一致性檢查工具，識別偏離標準的指標
    - 創建指標文檔生成器，自動維護最新指標目錄
    - 設計指標使用率分析工具，識別未使用或過度使用的指標

7. 為 Grafana 儀表板定義標準模板：
    - 設計統一的儀表板佈局和配色方案
    - 建立標準可視化組件庫，包括不同類型的圖表和面板
    - 定義常用查詢模式，簡化儀表板開發
    - 實現儀表板變量標準，支持一致的過濾和選擇機制
    - 建立儀表板版本控制和變更管理流程

**預期成果**：完整的監控指標規範文檔，包括命名空間結構、標準標籤集、核心指標定義和最佳實踐指南。提供指標集成和驗證工具，確保各模塊遵循統一標準。建立標準化的 Grafana 儀表板模板，簡化監控系統開發和維護。這些成果將確保系統所有組件產生一致、可比較的監控數據，支持全面的性能分析和問題診斷。

**階段性意義與必要性**：
統一的監控指標格式是構建有效可觀測性系統的基礎。若不實施此任務，不同組件將產生格式不一致的監控數據，導致難以整合分析，增加儀表板開發和維護難度，最終降低系統問題的可診斷性。這項工作對於確保系統可以準確測量和報告關鍵性能指標至關重要，直接支持 M-9 和 M-12 里程碑中的性能驗證目標。從長期運維角度看，標準化的監控體系大幅降低了系統擴展時的監控成本，使新增組件能夠無縫集成到現有監控架構中。此外，一致的數據格式也為未來可能的 AI 輔助診斷和自動化運維奠定了基礎，提高系統的長期可維護性和運營效率。

### 25. 前端易用性測試腳本

**目的**：開發自動化前端測試腳本，確保用戶界面在不同瀏覽器、屏幕尺寸和主題設置下的一致表現，提升系統的易用性和可訪問性，降低操作錯誤風險。

**專案目標關聯**：
此任務支持 GPT.md 中的「操作界面簡易化」和「支援多人協同操作的 Dashboard」目標。自動化 UI 測試確保前端界面能夠在各種條件下正確運行，是實現「真實場域與數位分身同步展示」的重要保障，尤其對於「營級作戰範圍」的複雜操作環境，UI 一致性和易用性直接影響操作效率和決策速度。

**方法**：

-   使用 Cypress/Playwright 建立自動化測試框架，實現多瀏覽器、多環境測試
-   開發關鍵用戶流程測試用例，確保核心功能正常工作
-   實施視覺回歸測試，確保 UI 設計一致性，包括暗色模式和可訪問性

**步驟**：

1. 設置自動化測試基礎架構，支持多環境測試：

    - 配置 Playwright 自動化測試框架，支持 Chromium、Firefox 和 WebKit 引擎
    - 設置螢幕尺寸測試矩陣，覆蓋桌面、平板和移動設備
    - 實現並行測試執行，提高測試效率
    - 配置測試錄像和截圖功能，用於問題診斷
    - 將測試集成到 CI/CD 流程，確保每次代碼變更都經過 UI 測試

2. 開發核心用戶流程測試用例，驗證關鍵功能：

    - 用戶登錄和身份驗證流程測試
    - 網絡拓撲查看和操作測試
    - UAV 狀態監控和控制測試
    - 衛星軌道顯示和預測測試
    - 性能儀表板查看和過濾測試
    - 告警識別和響應測試
    - 系統配置查看和修改測試
    - 測試數據導出和報告生成測試
    - 多用戶並發操作測試

3. 實施視覺回歸測試，確保設計一致性：

    - 配置視覺比較工具，檢測 UI 元素變化
    - 建立基準截圖庫，作為比較參考
    - 設置像素差異閾值，區分預期變化和錯誤
    - 實現關鍵組件和頁面的視覺檢查
    - 配置自動化視覺審查流程，標記潛在問題

4. 開發主題和可訪問性測試，確保跨環境一致性：

    - 實現暗色模式測試，驗證所有組件在暗色環境下的可讀性
    - 檢查色彩對比度，確保符合 WCAG 2.1 AA 標準
    - 測試鍵盤導航功能，確保無鼠標操作可行性
    - 驗證屏幕閱讀器兼容性，支持視障用戶
    - 測試文本縮放兼容性，確保大字體顯示正常

5. 設計性能和響應性測試，評估用戶體驗：

    - 測量頁面加載時間和首次內容繪製時間
    - 評估交互響應時間，確保即時反饋
    - 測試在高負載下的界面表現，如大量數據點渲染
    - 驗證長時間運行的穩定性，檢測內存洩漏
    - 測量動畫流暢度，確保不影響操作體驗

6. 開發測試報告和分析工具，支持持續改進：
    - 設計測試結果儀表板，展示通過率和失敗點
    - 實現趨勢分析，跟踪 UI 質量變化
    - 開發問題分類和優先級評估機制
    - 建立與開發流程的集成，推動問題快速修復
    - 配置定期回歸測試，確保持續符合標準

**預期成果**：完整的前端自動化測試套件，能夠在多種瀏覽器環境下驗證所有關鍵用戶流程，確保 UI 的一致性、可訪問性和性能。測試集成到 CI/CD 流程，實現每次代碼變更的自動驗證，並提供詳細的測試報告和視覺比較。這將確保操作界面在各種條件下都保持高易用性和穩定性，降低用戶操作錯誤的風險，提升系統的整體使用體驗。

**階段性意義與必要性**：
前端易用性測試是確保系統可操作性的關鍵環節。若不實施此任務，界面可能在特定環境下出現布局錯亂、功能失效或視覺問題，導致操作失誤或效率降低，特別是在野外環境或緊急情況下的操作可能因界面問題而延遲重要決策。這項工作直接支持 GPT.md 中的「操作界面簡易化」目標，確保系統能夠被「偵測/突擊連及其無人載具」等不同技術水平的用戶群體有效使用。從用戶體驗角度看，穩定一致的界面大幅提升了系統的可學習性和使用信心，減少操作壓力，特別是在複雜的軍事通信系統中，這直接影響作戰效能和任務成功率。此外，自動化 UI 測試也是敏捷開發的重要支撐，確保快速迭代不會破壞現有用戶體驗，保持系統功能和易用性的穩步提升。

### 26. 端到端系統集成測試

**目的**：驗證整個系統的集成功能，確保各組件間無縫協作，評估系統在現實條件下的性能和穩定性，為最終部署和驗測提供可靠保障。

**專案目標關聯**：
這項任務直接支持 GPT.md 中的「於實驗室與戶外驗測達到 SINR、吞吐、干擾避讓等量化指標」關鍵目標。在專案里程碑中明確要求「M-9 (116 Q2): E2E Ping < 50 ms；中斷後 2s 內重建連線」和「M-12 (116 Q3): 戶外 5 km 驗測 + KPI 報告」，這些指標的達成必須通過嚴格的端到端測試驗證。系統集成測試是連接各個獨立功能模塊與最終實戰驗證的橋樑，確保所有組件在整體架構中能夠協同工作，實現專案核心目標中的「Two-Tier BLOS 通訊系統」和「NTN GW、AI-RAN 基地台、核網連結」。沒有完善的集成測試，各模塊間的互操作性問題將在最終驗證階段暴露，大幅增加專案風險和時間成本。

**方法**：

-   設計端到端測試場景，構建涵蓋所有關鍵功能和性能指標的全面測試矩陣，確保系統在各種條件下的功能完整性和性能穩定性
-   自動化測試執行，開發測試自動化框架和工具，提高測試效率和覆蓋率，確保測試的可重複性和一致性
-   實施性能和穩定性評估，通過科學的測量方法和標準，量化系統的關鍵指標，為性能優化提供精確依據

**步驟**：

1. 設計測試場景矩陣，建立全面的測試覆蓋：
    - UAV 正常連接衛星場景，驗證基本通信功能和端到端延遲
    - 干擾出現和規避場景，測試 AI-RAN 抗干擾能力和快速頻率跳變效果
    - 衛星失聯切換到 Mesh 場景，驗證網絡備援機制和恢復時間
    - 高負載下的性能場景，測試系統在極限條件下的吞吐量和穩定性
    - 多 UAV 同時接入場景，評估系統的擴展性和資源管理能力
    - 長時間運行場景，檢測系統的穩定性和資源洩漏情況
    - 邊界條件測試，驗證系統在極端情況下的行為和錯誤處理能力
2. 開發自動化測試框架，提高測試效率和可靠性：
    - 設計測試自動化架構，支持測試場景的可配置執行
    - 實現測試用例管理系統，組織和追踪測試覆蓋情況
    - 開發自動化測試腳本，覆蓋關鍵功能點和業務流程
    - 構建測試數據生成器，模擬各種輸入條件和邊界情況
    - 實現測試結果自動收集和分析功能，提供詳細的測試報告
    - 集成持續集成/持續部署(CI/CD)流程，實現自動化測試執行
    - 開發測試監控儀表板，實時顯示測試進度和結果
3. 設置測試環境，模擬實際部署條件：
    - 配置硬件環境，包括服務器、網絡設備和終端設備
    - 部署完整的軟件堆棧，確保與生產環境一致
    - 實現網絡條件模擬，包括延遲、丟包和帶寬限制
    - 配置衛星軌道模擬器，生成真實的衛星移動軌跡
    - 設置 UAV 模擬終端，模擬不同飛行軌跡和移動模式
    - 構建干擾源模擬器，產生各種類型的電磁干擾
    - 設置監控和日誌收集系統，捕獲測試過程中的系統行為
4. 執行測試並收集結果數據，確保客觀準確的評估：
    - 執行功能測試，驗證所有功能點的正確實現
    - 進行性能測試，測量關鍵性能指標如延遲、吞吐量和連接恢復時間
    - 執行穩定性測試，評估長時間運行下的系統可靠性
    - 進行安全測試，檢查系統在安全威脅下的行為
    - 收集詳細的測試數據，包括原始日誌、性能指標和系統事件
    - 實施邊界測試，驗證系統在極端條件下的表現
    - 驗證所有必須的錯誤處理和恢復機制
5. 分析系統性能，識別瓶頸和問題：
    - 對測試結果進行統計分析，計算關鍵指標的平均值、標準差和分布
    - 識別性能瓶頸，找出限制系統性能的關鍵因素
    - 分析功能缺陷和邊界情況，評估系統的健壯性
    - 比較與目標指標的差距，確定需要優化的關鍵領域
    - 創建性能熱點圖，直觀展示系統中的效能問題
    - 建立性能基準線，作為後續優化的參考
    - 生成詳細的問題清單，按優先級排序
6. 迭代優化直至達到性能指標，確保系統滿足設計目標：
    - 根據測試結果制定優化計劃，明確優化目標和方法
    - 實施代碼和配置優化，解決識別的性能瓶頸
    - 重新測試優化後的系統，評估改進效果
    - 調整系統架構和資源分配，提高整體效能
    - 持續迭代直至達到或超過設定的性能目標
    - 記錄優化過程和結果，形成最佳實踐指南
    - 更新系統文檔，反映最終的配置和性能特性

**預期成果**：一套經過全面驗證的端到端系統，通過了所有功能和性能測試，達到或超過了專案設定的目標指標。具體包括：端到端通信延遲小於 50 毫秒，網絡中斷後 2 秒內恢復連接，在有干擾條件下保持通信能力，以及支持多 UAV 同時接入的擴展性。同時產生詳盡的測試報告，記錄系統各方面的性能指標和測試結果，為後續優化和實際部署提供可靠依據。

**階段性意義與必要性**：
端到端系統集成測試是連接開發階段和實際部署之間的關鍵環節。若不實施此任務，各個獨立組件雖然可能功能完善，但整體系統的協同工作能力將無法確保，導致在實際部署時出現無法預期的互操作性問題。這項任務直接支持 GPT.md 中的 M-9 和 M-12 里程碑，是驗證系統是否滿足「營級作戰範圍的 Two-Tier BLOS 通訊系統」核心目標的必要手段。從專案管理角度看，它顯著降低了最終驗收階段發現重大問題的風險，節省了後期修復成本和時間。對於軍事應用尤為重要，因為通信系統在實戰環境中必須保持高度可靠性，無法接受「先部署後修復」的開發模式。此外，系統測試也是優化過程的基礎，提供了量化的性能數據，指導後續的性能調優工作，確保資源被投入到最關鍵的改進領域。
