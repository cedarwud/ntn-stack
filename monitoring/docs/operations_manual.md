# ğŸš€ NTN Stack AIæ±ºç­–å¼•æ“ç‡Ÿé‹æ‰‹å†Š

## ğŸ“‹ ç›®éŒ„

1. [ç³»çµ±æ¶æ§‹æ¦‚è¦½](#ç³»çµ±æ¶æ§‹æ¦‚è¦½)
2. [æ—¥å¸¸ç‡Ÿé‹æª¢æŸ¥æ¸…å–®](#æ—¥å¸¸ç‡Ÿé‹æª¢æŸ¥æ¸…å–®)
3. [æ€§èƒ½èª¿å„ªæŒ‡å—](#æ€§èƒ½èª¿å„ªæŒ‡å—)
4. [ç›£æ§èˆ‡å‘Šè­¦](#ç›£æ§èˆ‡å‘Šè­¦)
5. [å‚™ä»½èˆ‡æ¢å¾©æµç¨‹](#å‚™ä»½èˆ‡æ¢å¾©æµç¨‹)
6. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
7. [ç·Šæ€¥æ‡‰è®Šç¨‹åº](#ç·Šæ€¥æ‡‰è®Šç¨‹åº)

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹æ¦‚è¦½

### æ ¸å¿ƒçµ„ä»¶æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç›£æ§èˆ‡ç‡Ÿé‹å±¤                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Prometheus      â”‚  â”‚ Grafana         â”‚  â”‚ AlertManager    â”‚ â”‚
â”‚  â”‚ (æŒ‡æ¨™æ”¶é›†)      â”‚  â”‚ (è¦–è¦ºåŒ–å„€è¡¨æ¿)  â”‚  â”‚ (å‘Šè­¦ç®¡ç†)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AIæ±ºç­–å¼•æ“å±¤                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ DecisionOrchestrator â”‚  â”‚ EventProcessor  â”‚  â”‚ CandidateSelector â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RLDecisionEngineâ”‚  â”‚ DecisionExecutorâ”‚  â”‚ DecisionMonitor â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åŸºç¤è¨­æ–½å±¤                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Redis           â”‚  â”‚ PostgreSQL      â”‚  â”‚ Docker          â”‚ â”‚
â”‚  â”‚ (ç·©å­˜/é…ç½®)     â”‚  â”‚ (æŒä¹…åŒ–æ•¸æ“š)    â”‚  â”‚ (å®¹å™¨åŒ–)        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é—œéµæœå‹™èªªæ˜

| æœå‹™ | ç«¯å£ | è²¬ä»» | é—œéµæŒ‡æ¨™ |
|------|------|------|----------|
| NetStack API | 8080 | AIæ±ºç­–å¼•æ“ä¸»æœå‹™ | decision_latency, success_rate |
| SimWorld Backend | 8000 | æ¨¡æ“¬ç’°å¢ƒ | simulation_fps, load_factor |
| Prometheus | 9090 | æŒ‡æ¨™æ”¶é›† | targets_up, scrape_duration |
| Grafana | 3000 | ç›£æ§å„€è¡¨æ¿ | dashboard_load_time |
| AlertManager | 9093 | å‘Šè­¦ç®¡ç† | alerts_firing, notifications |
| Redis | 6379 | ç·©å­˜å’Œé…ç½® | memory_usage, hit_rate |

---

## âœ… æ—¥å¸¸ç‡Ÿé‹æª¢æŸ¥æ¸…å–®

### ğŸŒ… æ¯æ—¥æª¢æŸ¥ (08:00)

#### 1. ç³»çµ±å¥åº·æª¢æŸ¥
```bash
# æª¢æŸ¥æ‰€æœ‰æœå‹™ç‹€æ…‹
make status

# æª¢æŸ¥é—œéµæŒ‡æ¨™
curl -s http://localhost:9090/api/v1/query?query=up | jq '.data.result'

# æª¢æŸ¥AIæ±ºç­–å»¶é²
curl -s "http://localhost:9090/api/v1/query?query=histogram_quantile(0.95,rate(ai_decision_latency_seconds_bucket[5m]))" | jq '.data.result[0].value[1]'
```

**âœ… æª¢æŸ¥é …ç›®**:
- [ ] æ‰€æœ‰æœå‹™é‹è¡Œæ­£å¸¸ (up=1)
- [ ] AIæ±ºç­–å»¶é² < 15ms (95%ç™¾åˆ†ä½)
- [ ] æ±ºç­–æˆåŠŸç‡ > 95%
- [ ] ç³»çµ±ååé‡ > 1000 decisions/sec
- [ ] ç„¡åš´é‡å‘Šè­¦

#### 2. è³‡æºä½¿ç”¨æª¢æŸ¥
```bash
# æª¢æŸ¥ç³»çµ±è³‡æº
docker stats --no-stream

# æª¢æŸ¥ç£ç¢Ÿç©ºé–“
df -h | grep -E "(/$|/var|/tmp)"

# æª¢æŸ¥å…§å­˜ä½¿ç”¨
free -h
```

**âš ï¸ é–¾å€¼è­¦å‘Š**:
- CPUä½¿ç”¨ç‡ > 80%
- å…§å­˜ä½¿ç”¨ç‡ > 85%
- ç£ç¢Ÿä½¿ç”¨ç‡ > 90%

#### 3. æ—¥èªŒæª¢æŸ¥
```bash
# æª¢æŸ¥éŒ¯èª¤æ—¥èªŒ
make logs | grep -i error | tail -20

# æª¢æŸ¥å‘Šè­¦ç‹€æ…‹
curl -s http://localhost:9093/api/v1/alerts | jq '.data[] | select(.state=="firing")'
```

### ğŸ“Š æ¯é€±æª¢æŸ¥ (é€±ä¸€ 09:00)

#### 1. æ€§èƒ½è¶¨å‹¢åˆ†æ
- æŸ¥çœ‹éå»7å¤©çš„æ€§èƒ½è¶¨å‹¢å ±å‘Š
- åˆ†æRLç®—æ³•æ”¶æ–‚æ€§
- æª¢æŸ¥è¡›æ˜Ÿåˆ‡æ›æˆåŠŸç‡è¶¨å‹¢
- è©•ä¼°ç³»çµ±è³‡æºä½¿ç”¨è¶¨å‹¢

#### 2. å‘Šè­¦åˆ†æ
- çµ±è¨ˆéå»ä¸€é€±çš„å‘Šè­¦æ•¸é‡å’Œé¡å‹
- åˆ†æå‘Šè­¦æ ¹æœ¬åŸå› 
- æ›´æ–°å‘Šè­¦è¦å‰‡ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰

#### 3. å‚™ä»½é©—è­‰
```bash
# é©—è­‰æ•¸æ“šå‚™ä»½å®Œæ•´æ€§
make backup-verify

# æª¢æŸ¥å‚™ä»½æ–‡ä»¶
ls -la /backup/ntn-stack/
```

### ğŸ—“ï¸ æ¯æœˆæª¢æŸ¥ (æ¯æœˆ1æ—¥)

#### 1. å®¹é‡è¦åŠƒ
- è©•ä¼°ç³»çµ±å®¹é‡éœ€æ±‚
- é æ¸¬æœªä¾†3å€‹æœˆçš„è³‡æºéœ€æ±‚
- æ›´æ–°æ“´å®¹è¨ˆåŠƒ

#### 2. å®‰å…¨æª¢æŸ¥
- æ›´æ–°ç³»çµ±è£œä¸
- æª¢æŸ¥å®‰å…¨é…ç½®
- å¯©æŸ¥è¨ªå•æ¬Šé™

#### 3. æ–‡æª”æ›´æ–°
- æ›´æ–°ç‡Ÿé‹æ‰‹å†Š
- æ›´æ–°æ•…éšœæ’é™¤æŒ‡å—
- æ›´æ–°è¯çµ¡äººä¿¡æ¯

---

## âš¡ æ€§èƒ½èª¿å„ªæŒ‡å—

### ğŸ¯ AIæ±ºç­–å¼•æ“èª¿å„ª

#### 1. æ±ºç­–å»¶é²å„ªåŒ–

**ç›®æ¨™**: 95%ç™¾åˆ†ä½å»¶é² < 15ms

**èª¿å„ªåƒæ•¸**:
```python
# åœ¨Redisä¸­è¨­ç½®åƒæ•¸
redis-cli HSET ai_decision_config decision_timeout_ms 10
redis-cli HSET ai_decision_config batch_size 32
redis-cli HSET ai_decision_config worker_threads 4
```

**ç›£æ§æŒ‡æ¨™**:
```promql
# æ±ºç­–å»¶é²
histogram_quantile(0.95, rate(ai_decision_latency_seconds_bucket[5m]))

# ååé‡
rate(ntn_decisions_total[1m])
```

#### 2. RLè¨“ç·´å„ªåŒ–

**åƒæ•¸èª¿æ•´**:
```yaml
# RLé…ç½®å„ªåŒ–
rl_config:
  learning_rate: 0.001
  batch_size: 64
  replay_buffer_size: 100000
  target_update_freq: 1000
  exploration_rate: 0.1
```

**æ€§èƒ½ç›£æ§**:
```promql
# è¨“ç·´æ”¶æ–‚é€Ÿåº¦
rl_training_progress_percent

# ç­–ç•¥æå¤±
rl_policy_loss
```

### ğŸ—„ï¸ æ•¸æ“šåº«èª¿å„ª

#### PostgreSQLå„ªåŒ–
```sql
-- æª¢æŸ¥æŸ¥è©¢æ€§èƒ½
SELECT query, mean_time, calls 
FROM pg_stat_statements 
ORDER BY mean_time DESC 
LIMIT 10;

-- èª¿æ•´é€£æ¥æ± 
ALTER SYSTEM SET max_connections = 200;
ALTER SYSTEM SET shared_buffers = '256MB';
```

#### Rediså„ªåŒ–
```bash
# è¨­ç½®å…§å­˜æ·˜æ±°ç­–ç•¥
redis-cli CONFIG SET maxmemory-policy allkeys-lru
redis-cli CONFIG SET maxmemory 1gb

# æª¢æŸ¥è¨˜æ†¶é«”ä½¿ç”¨
redis-cli INFO memory
```

### ğŸ³ Dockerå®¹å™¨èª¿å„ª

**è³‡æºé™åˆ¶è¨­ç½®**:
```yaml
# docker-compose.yml
services:
  netstack-api:
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 4G
        reservations:
          cpus: '1.0'
          memory: 2G
```

---

## ğŸ“Š ç›£æ§èˆ‡å‘Šè­¦

### ğŸ“ˆ é—œéµå„€è¡¨æ¿

#### 1. NTN Stack ç¸½è¦½å„€è¡¨æ¿
- **URL**: http://localhost:3000/d/ntn-ai-overview
- **æ›´æ–°é »ç‡**: 30ç§’
- **é—œéµé¢æ¿**:
  - AIæ±ºç­–å»¶é²è¶¨å‹¢
  - æ±ºç­–æˆåŠŸç‡
  - ç³»çµ±ååé‡
  - RLç®—æ³•æ€§èƒ½æ¯”è¼ƒ

#### 2. ç³»çµ±å¥åº·å„€è¡¨æ¿
- **URL**: http://localhost:3000/d/system-health
- **ç›£æ§å…§å®¹**:
  - æœå‹™å¯ç”¨æ€§
  - è³‡æºä½¿ç”¨ç‡
  - éŒ¯èª¤ç‡çµ±è¨ˆ
  - å‘Šè­¦ç‹€æ…‹

### ğŸš¨ å‘Šè­¦ç´šåˆ¥èˆ‡éŸ¿æ‡‰æ™‚é–“

| ç´šåˆ¥ | éŸ¿æ‡‰æ™‚é–“ | é€šçŸ¥æ–¹å¼ | è² è²¬åœ˜éšŠ |
|------|----------|----------|----------|
| ğŸ”¥ Emergency | ç«‹å³ | é›»è©± + SMS + Email | AIåœ˜éšŠ + CTO |
| ğŸš¨ Critical | 5åˆ†é˜å…§ | SMS + Email + Slack | AIåœ˜éšŠ |
| âš ï¸ Warning | 30åˆ†é˜å…§ | Email + Slack | ç›¸é—œåœ˜éšŠ |
| â„¹ï¸ Info | 4å°æ™‚å…§ | Email | ç›£æ§åœ˜éšŠ |

### ğŸ“± å‘Šè­¦é€šçŸ¥é…ç½®

**Slackæ•´åˆ**:
```bash
# è¨­ç½®Slack Webhook
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"

# æ¸¬è©¦å‘Šè­¦é€šçŸ¥
curl -X POST -H 'Content-type: application/json' \
  --data '{"text":"ğŸš¨ æ¸¬è©¦å‘Šè­¦é€šçŸ¥"}' \
  $SLACK_WEBHOOK_URL
```

**Emailé…ç½®**:
```yaml
# alertmanager.yml
global:
  smtp_smarthost: 'localhost:587'
  smtp_from: 'ntn-alerts@company.com'
```

---

## ğŸ’¾ å‚™ä»½èˆ‡æ¢å¾©æµç¨‹

### ğŸ“¦ å‚™ä»½ç­–ç•¥

#### 1. æ•¸æ“šå‚™ä»½
```bash
# æ¯æ—¥å‚™ä»½è…³æœ¬
#!/bin/bash
BACKUP_DIR="/backup/ntn-stack/$(date +%Y%m%d)"
mkdir -p $BACKUP_DIR

# PostgreSQLå‚™ä»½
pg_dump ntn_stack > $BACKUP_DIR/postgres_backup.sql

# Rediså‚™ä»½
redis-cli BGSAVE
cp /var/lib/redis/dump.rdb $BACKUP_DIR/

# é…ç½®æ–‡ä»¶å‚™ä»½
tar -czf $BACKUP_DIR/configs.tar.gz \
  monitoring/ \
  netstack/config/ \
  simworld/config/
```

#### 2. å‚™ä»½é©—è­‰
```bash
# é©—è­‰PostgreSQLå‚™ä»½
psql -d test_restore < $BACKUP_DIR/postgres_backup.sql

# é©—è­‰Rediså‚™ä»½
redis-server --dbfilename $BACKUP_DIR/dump.rdb --dir $BACKUP_DIR --port 6380
```

### ğŸ”„ æ¢å¾©ç¨‹åº

#### 1. å®Œæ•´ç³»çµ±æ¢å¾©
```bash
# 1. åœæ­¢æ‰€æœ‰æœå‹™
make stop

# 2. æ¢å¾©æ•¸æ“šåº«
psql -d ntn_stack < /backup/latest/postgres_backup.sql

# 3. æ¢å¾©Redis
cp /backup/latest/dump.rdb /var/lib/redis/
sudo systemctl restart redis

# 4. æ¢å¾©é…ç½®
tar -xzf /backup/latest/configs.tar.gz

# 5. é‡å•Ÿæœå‹™
make start
```

#### 2. å–®æœå‹™æ¢å¾©
```bash
# æ¢å¾©AIæ±ºç­–å¼•æ“
docker-compose restart netstack-api

# æª¢æŸ¥æœå‹™å¥åº·
curl http://localhost:8080/health
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### ğŸš¨ å¸¸è¦‹æ•…éšœåŠè§£æ±ºæ–¹æ¡ˆ

#### 1. AIæ±ºç­–å»¶é²éé«˜ (>20ms)

**ç—‡ç‹€**:
- å‘Šè­¦: `AIDecisionLatencyCritical`
- ç”¨æˆ¶é«”é©—: è¡›æ˜Ÿåˆ‡æ›å»¶é²

**è¨ºæ–·æ­¥é©Ÿ**:
```bash
# æª¢æŸ¥CPU/å…§å­˜ä½¿ç”¨
top -p $(pgrep -f netstack-api)

# æª¢æŸ¥æ±ºç­–éšŠåˆ—é•·åº¦
curl http://localhost:8080/api/v1/ai_decision_integration/metrics | grep queue

# æª¢æŸ¥è³‡æ–™åº«é€£æ¥
psql -d ntn_stack -c "SELECT count(*) FROM pg_stat_activity;"
```

**è§£æ±ºæ–¹æ¡ˆ**:
1. å¢åŠ æ±ºç­–å¼•æ“workeræ•¸é‡
2. å„ªåŒ–è³‡æ–™åº«æŸ¥è©¢
3. å¢åŠ ç³»çµ±è³‡æº
4. å•Ÿç”¨æ±ºç­–ç·©å­˜

#### 2. RLè¨“ç·´åœæ»¯

**ç—‡ç‹€**:
- å‘Šè­¦: `RLTrainingStalled`
- è¨“ç·´é€²åº¦ä¸è®Š

**è¨ºæ–·æ­¥é©Ÿ**:
```bash
# æª¢æŸ¥GPUä½¿ç”¨ç‡
nvidia-smi

# æª¢æŸ¥è¨“ç·´æ—¥èªŒ
docker logs ntn-rl-trainer | tail -100

# æª¢æŸ¥æ•¸æ“šæµ
curl http://localhost:8080/api/v1/rl/status
```

**è§£æ±ºæ–¹æ¡ˆ**:
1. é‡å•ŸRLè¨“ç·´é€²ç¨‹
2. èª¿æ•´å­¸ç¿’ç‡åƒæ•¸
3. æ¸…ç†è¨“ç·´æ•¸æ“š
4. æª¢æŸ¥æ¨¡å‹æ”¶æ–‚æ¢ä»¶

#### 3. æœå‹™ç„¡éŸ¿æ‡‰

**ç—‡ç‹€**:
- å‘Šè­¦: `ServiceUnavailable`
- APIèª¿ç”¨è¶…æ™‚

**å¿«é€Ÿæ¢å¾©**:
```bash
# 1. ç¢ºèªæœå‹™ç‹€æ…‹
docker ps | grep ntn

# 2. é‡å•Ÿå¤±æ•ˆæœå‹™
docker-compose restart <service-name>

# 3. æª¢æŸ¥ç¶²çµ¡é€£æ¥
netstat -tlnp | grep :8080

# 4. æª¢æŸ¥è³‡æºé™åˆ¶
docker stats
```

### ğŸ” æ—¥èªŒåˆ†ææŒ‡å—

#### é—œéµæ—¥èªŒæ–‡ä»¶
```bash
# AIæ±ºç­–å¼•æ“æ—¥èªŒ
docker logs netstack-api | grep "ai_decision"

# RLè¨“ç·´æ—¥èªŒ
docker logs rl-trainer | grep "training"

# ç³»çµ±éŒ¯èª¤æ—¥èªŒ
journalctl -u docker | grep ERROR

# å‘Šè­¦æ—¥èªŒ
docker logs alertmanager | tail -50
```

#### å¸¸è¦‹éŒ¯èª¤æ¨¡å¼
```bash
# å…§å­˜ä¸è¶³
grep "OutOfMemory\|OOM" /var/log/messages

# æ•¸æ“šåº«é€£æ¥å•é¡Œ
grep "connection refused\|timeout" /app/logs/*.log

# GPUå•é¡Œ
grep "CUDA\|GPU" /app/logs/rl_training.log
```

---

## ğŸš‘ ç·Šæ€¥æ‡‰è®Šç¨‹åº

### ğŸ”¥ Level 1: ç³»çµ±åš´é‡æ•…éšœ

**è§¸ç™¼æ¢ä»¶**:
- AIæ±ºç­–æˆåŠŸç‡ < 90%
- ç³»çµ±å»¶é² > 50ms
- å¤šå€‹é—œéµæœå‹™å®•æ©Ÿ

**ç«‹å³è¡Œå‹•** (5åˆ†é˜å…§):
```bash
# 1. å•Ÿå‹•ç·Šæ€¥æ¨¡å¼
python3 netstack/monitoring/operations/emergency_mode.py --activate

# 2. åˆ‡æ›åˆ°å‚™ç”¨ç®—æ³•
curl -X POST http://localhost:8080/api/v1/ai_decision_integration/emergency \
  -d '{"mode": "fallback", "algorithm": "rule_based"}'

# 3. é€šçŸ¥é—œéµäººå“¡
python3 scripts/emergency_notification.py --level=critical
```

**å¾ŒçºŒè¡Œå‹•** (30åˆ†é˜å…§):
1. åˆ†ææ•…éšœæ ¹æœ¬åŸå› 
2. åˆ¶å®šä¿®å¾©è¨ˆåŠƒ
3. æº–å‚™å›æ»¾æ–¹æ¡ˆ
4. èˆ‡æ¥­å‹™åœ˜éšŠæºé€šå½±éŸ¿

### âš ï¸ Level 2: æ€§èƒ½é™ç´š

**è§¸ç™¼æ¢ä»¶**:
- æ±ºç­–å»¶é² 20-50ms
- æˆåŠŸç‡ 90-95%
- å–®ä¸€æœå‹™å•é¡Œ

**æ‡‰å°æªæ–½**:
```bash
# 1. å¢åŠ ç›£æ§é »ç‡
curl -X POST http://localhost:9090/api/v1/admin/tsdb/snapshot

# 2. èª¿æ•´ç³»çµ±åƒæ•¸
redis-cli HSET ai_config decision_timeout_ms 15

# 3. æº–å‚™æ“´å®¹
docker-compose up --scale netstack-api=3
```

### ğŸ“ ç·Šæ€¥è¯çµ¡æ¸…å–®

| è§’è‰² | å§“å | é›»è©± | Email | è²¬ä»»ç¯„åœ |
|------|------|------|-------|----------|
| AIåœ˜éšŠä¸»ç®¡ | å¼µä¸‰ | +886-912-345-678 | ai-lead@company.com | AIæ±ºç­–å¼•æ“ |
| ç³»çµ±ç®¡ç†å“¡ | æå›› | +886-923-456-789 | sysadmin@company.com | åŸºç¤è¨­æ–½ |
| è³‡æ–™åº«ç®¡ç†å“¡ | ç‹äº” | +886-934-567-890 | dba@company.com | æ•¸æ“šåº« |
| å€¼ç­ç¶“ç† | é™³å…­ | +886-945-678-901 | oncall@company.com | ç¸½é«”å”èª¿ |

### ğŸ“‹ äº‹æ•…è™•ç†æµç¨‹

1. **äº‹æ•…ç™¼ç¾** (0-5åˆ†é˜)
   - è‡ªå‹•å‘Šè­¦è§¸ç™¼
   - å€¼ç­äººå“¡ç¢ºèª
   - åˆæ­¥å½±éŸ¿è©•ä¼°

2. **ç·Šæ€¥éŸ¿æ‡‰** (5-15åˆ†é˜)
   - é€šçŸ¥ç›¸é—œåœ˜éšŠ
   - å•Ÿå‹•ç·Šæ€¥ç¨‹åº
   - å¯¦æ–½è‡¨æ™‚ä¿®å¾©

3. **å•é¡Œè§£æ±º** (15åˆ†é˜-2å°æ™‚)
   - æ ¹æœ¬åŸå› åˆ†æ
   - æ°¸ä¹…ä¿®å¾©æ–¹æ¡ˆ
   - ç³»çµ±æ¢å¾©é©—è­‰

4. **äº‹å¾Œæª¢è¨** (24-48å°æ™‚)
   - äº‹æ•…ç¸½çµå ±å‘Š
   - æ”¹é€²æªæ–½åˆ¶å®š
   - æ–‡æª”å’Œæµç¨‹æ›´æ–°

---

## ğŸ“š ç›¸é—œæ–‡æª”

- [æ•…éšœæ’é™¤æŒ‡å—](troubleshooting_guide.md)
- [APIåƒè€ƒæ–‡æª”](../api/README.md)
- [ç³»çµ±æ¶æ§‹æ–‡æª”](../architecture/README.md)
- [ç›£æ§é…ç½®æŒ‡å—](monitoring_configuration.md)

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0  
**æœ€å¾Œæ›´æ–°**: 2024-12-20  
**ç¶­è­·è€…**: NTN Stack ç‡Ÿé‹åœ˜éšŠ  
**å¯©æ ¸è€…**: AIæ±ºç­–å¼•æ“åœ˜éšŠä¸»ç®¡ 