# 圖表數據真實性修正進度追蹤

## 目標
將 ChartAnalysisDashboard 中所有圖表的數據來源改為完全來自後端真實計算，移除所有硬編碼、模擬和簡化演算法。

## 當前狀況概覽

### 數據真實性統計
- ✅ **真實後端數據**: 40%
- ⚠️ **部分模擬數據**: 20% 
- ❌ **硬編碼/完全模擬**: 40%

---

## 詳細圖表分析

### ✅ 已使用真實後端數據的圖表

#### 1. 系統性能指標
- **API端點**: `/netstack/api/v1/core-sync/metrics/performance`
- **狀態**: ✅ 大部分真實 (除GPU使用率)
- **位置**: ChartAnalysisDashboard.tsx:463-512
- **備註**: Network Latency, CPU, Memory 來自真實API，GPU需修正

#### 2. UAV位置數據
- **API端點**: `/api/v1/uav/positions`
- **狀態**: ✅ 完全真實
- **位置**: ChartAnalysisDashboard.tsx:141-184
- **備註**: 有合理的硬編碼fallback

#### 3. 衛星軌道數據
- **API端點**: `/api/v1/satellite-ops/visible_satellites`
- **狀態**: ✅ 完全真實
- **位置**: ChartAnalysisDashboard.tsx:357-398
- **備註**: 基於真實TLE計算

#### 4. TLE健康狀態
- **API端點**: `/netstack/api/v1/satellite-tle/health`
- **狀態**: ✅ 完全真實
- **位置**: ChartAnalysisDashboard.tsx:239-267

---

### ⚠️ 部分使用模擬數據的圖表

#### 5. QoE時間序列分析
- **當前狀況**: 基於真實UAV數據的數學函數模擬
- **位置**: ChartAnalysisDashboard.tsx:711-786
- **問題**: 
  - Stalling Time: `Math.sin(i * 0.1) * 20 * speedFactor + Math.random() * 15 + 30`
  - Ping RTT: `Math.cos(i * 0.15) * 8 * altitudeFactor + Math.random() * 6`
- **需要**: 創建真實QoE計算API
- **狀態**: 🔄 待修正

---

### ❌ 完全硬編碼/模擬的圖表

#### 6. Handover延遲分解分析 ⭐ 核心論文結果
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:598-646
- **硬編碼數據**:
  ```javascript
  NTN標準: [45, 89, 67, 124, 78]
  NTN-GS: [32, 56, 45, 67, 34]
  NTN-SMN: [28, 52, 48, 71, 39]
  提議方案: [8, 12, 15, 18, 9]
  ```
- **需要**: 創建真實handover延遲計算API
- **狀態**: ❌ 未開始

#### 7. 六場景對比數據 ⭐ 核心論文結果
- **當前狀況**: 基於硬編碼基值的簡化計算
- **位置**: ChartAnalysisDashboard.tsx:789-854
- **硬編碼基值**: `[250, 153, 158, 21]`
- **需要**: 創建真實場景對比計算API
- **狀態**: ❌ 未開始

#### 8. 複雜度對比分析
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1053-1067
- **硬編碼數據**:
  ```javascript
  標準算法: [0.2, 1.8, 7.2, 28.8, 180.0]
  Fast-Prediction: [0.05, 0.12, 0.18, 0.25, 0.42]
  ```
- **需要**: 創建真實複雜度分析API
- **狀態**: ❌ 未開始

#### 9. 切換失敗率統計
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1070-1087
- **硬編碼數據**:
  ```javascript
  NTN標準: [2.1, 4.8, 8.5, 15.2, 28.6]
  Flexible方案: [0.3, 0.8, 1.2, 2.1, 4.5]
  ```
- **需要**: 創建真實切換失敗率統計API
- **狀態**: ❌ 未開始

#### 10. 系統架構資源分配
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1092-1125
- **硬編碼數據**: `[32, 22, 15, 8, 10, 7, 6]`
- **需要**: 創建真實資源監控API
- **狀態**: ❌ 未開始

#### 11. 時間同步精度分析
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1128-1143
- **硬編碼數據**: `[5000, 100, 50, 200, 10]`
- **需要**: 創建真實時間同步測量API
- **狀態**: ❌ 未開始

#### 12. 全球覆蓋率統計
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1146-1160
- **硬編碼數據**:
  ```javascript
  Starlink: [95.2, 92.8, 89.5, 87.3, 78.9, 65.4, 12.1]
  Kuiper: [92.8, 89.5, 86.2, 84.1, 75.6, 62.3, 8.7]
  ```
- **需要**: 創建真實覆蓋率計算API
- **狀態**: ❌ 未開始

#### 13. 性能雷達圖對比
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1163-1194
- **硬編碼數據**:
  ```javascript
  Flexible策略: [4.8, 2.3, 3.2, 3.8, 4.5, 4.2]
  Consistent策略: [3.5, 4.2, 4.8, 4.5, 3.9, 4.6]
  ```
- **需要**: 創建真實策略性能評估API
- **狀態**: ❌ 未開始

#### 14. 協議棧延遲分析
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1197-1216
- **硬編碼數據**: `[2.1, 3.5, 4.2, 5.8, 12.3, 8.7, 6.4]`
- **需要**: 創建真實協議棧測量API
- **狀態**: ❌ 未開始

#### 15. 異常處理統計
- **當前狀況**: 完全硬編碼
- **位置**: ChartAnalysisDashboard.tsx:1219-1241
- **硬編碼數據**: `[25, 18, 15, 12, 20, 10]`
- **需要**: 創建真實異常統計API
- **狀態**: ❌ 未開始

---

## 修正優先級

### 🚨 高優先級 (核心論文結果)
1. **Handover延遲分解分析** - 最重要的論文核心指標
2. **六場景對比數據** - 論文主要貢獻展示
3. **複雜度對比分析** - 算法效率證明

### 🔸 中優先級 (性能證明)
4. **切換失敗率統計**
5. **時間同步精度分析**
6. **性能雷達圖對比**

### 🔹 低優先級 (輔助指標)
7. **QoE時間序列分析** (部分修正)
8. **系統架構資源分配**
9. **全球覆蓋率統計**
10. **協議棧延遲分析**
11. **異常處理統計**

---

## 進度追蹤

### 已完成項目 ✅
- [x] 現狀分析和記錄
- [x] 建立追蹤文檔

### 進行中項目 🔄
- [ ] 無

### 待開始項目 ❌
- [ ] 所有硬編碼圖表的後端API開發
- [ ] 前端API調用實現
- [ ] 測試和驗證

---

## 技術債務

### 當前問題
1. **論文核心結果依賴硬編碼** - 影響研究可信度
2. **模擬數據混雜** - 難以區分真實性能
3. **缺乏真實計算引擎** - 無法驗證算法效果

### 解決方案
1. **創建後端計算引擎** - 實現真實算法
2. **統一數據接口** - 標準化API設計
3. **建立驗證機制** - 確保數據正確性

---

*最後更新: 2024-12-22*
*下次更新: 開始修正第一個硬編碼圖表後*