# NTN Stack 端到端測試 - 開發環境配置
# 版本: v1.0.0

metadata:
  environment: "development"
  version: "1.0.0"
  description: "開發環境端到端測試配置"

# 測試環境設置
test_environment:
  name: "development"
  timeout_seconds: 300
  retry_attempts: 3
  parallel_execution: true
  max_concurrent_tests: 2

# 系統需求（最低配置）
system_requirements:
  cpu_cores: 4
  memory_gb: 8
  disk_gb: 50
  gpu_required: false

# 服務配置
services:
  netstack:
    enabled: true
    endpoint: "http://localhost:8000"
    health_check: "/health"
    startup_timeout: 30
    
  simworld:
    enabled: true
    endpoint: "http://localhost:8100"
    health_check: "/health"
    startup_timeout: 45
    
  prometheus:
    enabled: false
    endpoint: "http://localhost:9090"
    health_check: "/-/healthy"
    
  grafana:
    enabled: false
    endpoint: "http://localhost:3000"
    health_check: "/api/health"

# 測試場景選擇（開發環境精簡版）
test_scenarios:
  enabled_scenarios:
    - "uav_satellite_basic_connectivity"
    - "mesh_failover_basic_switching"
    - "performance_basic_throughput"
  
  disabled_scenarios:
    - "longrun_basic_stability"
    - "longrun_advanced_endurance"
    - "performance_advanced_stress"

# 測試套件配置
test_suites:
  quick_test:
    name: "快速開發測試"
    scenarios:
      - "uav_satellite_basic_connectivity"
    estimated_duration: "3 minutes"
    
  basic_validation:
    name: "基本功能驗證"
    scenarios:
      - "uav_satellite_basic_connectivity"
      - "mesh_failover_basic_switching"
      - "performance_basic_throughput"
    estimated_duration: "15 minutes"

# 指標收集設置
metrics:
  collection_enabled: true
  export_format: "json"
  retention_days: 7
  prometheus_port: 9091

# 報告設置
reporting:
  auto_generate: true
  formats: ["json", "html"]
  output_directory: "tests/e2e/reports"
  include_logs: true
  include_screenshots: false

# 日誌設置
logging:
  level: "INFO"
  output_directory: "tests/e2e/logs"
  max_file_size_mb: 100
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 網絡模擬設置（開發環境簡化）
network_simulation:
  enabled: false
  default_latency_ms: 10
  default_packet_loss: 0.0
  default_bandwidth_mbps: 1000

# Docker 配置
docker:
  network_name: "ntn-stack-test"
  volume_mount: "./tests/e2e/data:/data"
  cleanup_after_test: true
  resource_limits:
    memory: "2g"
    cpu: "1.0"

# 數據庫配置（如果需要）
database:
  enabled: false
  type: "sqlite"
  file: "tests/e2e/data/test.db"
  cleanup_after_test: true 