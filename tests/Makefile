# NTN-Stack çµ±ä¸€æ¸¬è©¦ Makefile

.PHONY: test test-quick test-unit test-integration test-performance test-e2e test-paper test-gymnasium clean help

# é è¨­ç›®æ¨™
all: test

# å®Œæ•´æ¸¬è©¦å¥—ä»¶
test:
	@echo "ğŸ§ª åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶..."
	python run_all_tests.py --type=all --report

# å¿«é€Ÿæ¸¬è©¦
test-quick:
	@echo "âš¡ åŸ·è¡Œå¿«é€Ÿæ¸¬è©¦..."
	python run_all_tests.py --type=all --quick --report

# å–®å…ƒæ¸¬è©¦
test-unit:
	@echo "ğŸ”§ åŸ·è¡Œå–®å…ƒæ¸¬è©¦..."
	python run_all_tests.py --type=unit

# æ•´åˆæ¸¬è©¦
test-integration:
	@echo "ğŸ”— åŸ·è¡Œæ•´åˆæ¸¬è©¦..."
	python run_all_tests.py --type=integration

# æ•ˆèƒ½æ¸¬è©¦
test-performance:
	@echo "âš¡ åŸ·è¡Œæ•ˆèƒ½æ¸¬è©¦..."
	python run_all_tests.py --type=performance

# ç«¯åˆ°ç«¯æ¸¬è©¦
test-e2e:
	@echo "ğŸ”„ åŸ·è¡Œç«¯åˆ°ç«¯æ¸¬è©¦..."
	python run_all_tests.py --type=e2e

# è«–æ–‡å¾©ç¾æ¸¬è©¦
test-paper:
	@echo "ğŸ“š åŸ·è¡Œè«–æ–‡å¾©ç¾æ¸¬è©¦..."
	python run_all_tests.py --type=paper

test-paper-stage1:
	@echo "ğŸ“š åŸ·è¡Œè«–æ–‡éšæ®µä¸€æ¸¬è©¦..."
	python run_all_tests.py --type=paper --stage=1

test-paper-stage2:
	@echo "ğŸ“š åŸ·è¡Œè«–æ–‡éšæ®µäºŒæ¸¬è©¦..."
	python run_all_tests.py --type=paper --stage=2

# Gymnasiumæ¸¬è©¦
test-gymnasium:
	@echo "ğŸ¤– åŸ·è¡ŒGymnasiumæ¸¬è©¦..."
	python run_all_tests.py --type=gymnasium

test-paper-stage2:
	@echo "ğŸ“š åŸ·è¡Œè«–æ–‡éšæ®µäºŒæ¸¬è©¦..."
	python paper_tests.py --stage=2

# Gymnasium RLæ¸¬è©¦
test-gymnasium:
	@echo "ğŸ® åŸ·è¡ŒGymnasium RLæ¸¬è©¦..."
	python gymnasium_tests.py --env=all

# æ¸…ç†
clean:
	@echo "ğŸ§¹ æ¸…ç†æ¸¬è©¦ç›¸é—œæª”æ¡ˆ..."
	find . -name "*.pyc" -delete
	find . -name "__pycache__" -type d -exec rm -rf {} + 2>/dev/null || true
	find . -name ".pytest_cache" -type d -exec rm -rf {} + 2>/dev/null || true

# èªªæ˜
help:
	@echo "ğŸ“‹ NTN-Stack çµ±ä¸€æ¸¬è©¦ç³»çµ±"
	@echo ""
	@echo "å¯ç”¨ç›®æ¨™ï¼š"
	@echo "  test              - åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶"
	@echo "  test-quick        - åŸ·è¡Œå¿«é€Ÿæ¸¬è©¦"
	@echo "  test-unit         - åŸ·è¡Œå–®å…ƒæ¸¬è©¦"
	@echo "  test-integration  - åŸ·è¡Œæ•´åˆæ¸¬è©¦"
	@echo "  test-performance  - åŸ·è¡Œæ•ˆèƒ½æ¸¬è©¦"
	@echo "  test-e2e          - åŸ·è¡Œç«¯åˆ°ç«¯æ¸¬è©¦"
	@echo "  test-paper        - åŸ·è¡Œè«–æ–‡å¾©ç¾æ¸¬è©¦"
	@echo "  test-paper-stage1 - åŸ·è¡Œè«–æ–‡éšæ®µä¸€æ¸¬è©¦"
	@echo "  test-paper-stage2 - åŸ·è¡Œè«–æ–‡éšæ®µäºŒæ¸¬è©¦"
	@echo "  test-gymnasium    - åŸ·è¡ŒGymnasium RLæ¸¬è©¦"
	@echo "  clean             - æ¸…ç†æ¸¬è©¦æª”æ¡ˆ"
	@echo "  help              - é¡¯ç¤ºæ­¤èªªæ˜"
