# LEO 衛星系統方案概述

## 🎯 方案概述

**核心理念**：使用真實 TLE 歷史數據 + 預計算存儲 + 時間軸播放，解決即時計算性能問題，同時保持數據真實性。

### ✅ 方案優勢
- **真實性保證**：使用真實 Starlink TLE 數據，非模擬數據
- **性能優化**：預計算避免即時 SGP4 運算瓶頸
- **展示友好**：支援時間軸控制、加速播放、handover 動畫
- **研究價值**：可用於 3GPP events 計算和論文分析
- **穩定性**：不依賴網路即時連接

### 📊 技術參數建議

#### **時間段選擇（按研究等級分層）**

**📊 展示級數據**：6 小時歷史數據
- 用途：系統驗證、UI 展示、概念驗證  
- 理由：展示完整的衛星覆蓋變化和 handover 場景

**🎓 研究級數據**：45 天歷史數據
- 訓練數據：30 天（RL 主要學習期）
- 測試數據：7 天（性能評估）
- 驗證數據：7 天（交叉驗證）  
- 緩衝數據：1 天（時間重疊處理）

**🏆 頂級期刊標準**：60 天歷史數據
- 符合 IEEE TCOM、TWC 等頂級期刊要求
- 支援大規模統計分析和長期趨勢研究

**💾 數據量估算（45天研究級）**：
```
45 天 × 24 小時 × 120 時間點(30秒) × 8 顆可見衛星 = 518,400 條記錄
518,400 × 500 bytes ≈ 260MB（映像檔完全可承受）
```

#### **時間解析度**
- **建議間隔**：30 秒
- **理由**：衛星速度 7.5 km/s，30 秒移動 225km，適合 handover 觸發精度
- **數據量**：6 小時 = 720 個時間點

#### **多星座支援設計**

**🌟 主要星座：Starlink (SpaceX)**
- 衛星數量：~5000 顆，覆蓋密度最高
- 軌道參數：550km 高度，53° 傾角  
- 研究價值：數據最豐富，學術熱度最高
- handover 場景：星座內切換

**🌍 次要星座：OneWeb (歐洲)**
- 衛星數量：~648 顆，極地覆蓋佳
- 軌道參數：1200km 高度，87.4° 傾角
- 研究價值：不同軌道特性比較
- handover 場景：高緯度地區優勢

#### **觀測者位置與可見衛星數量 & 數據規模**
**🇹🇼 台灣觀測點 (24°56'39"N 121°22'17"E)**
```
各仰角範圍的可見衛星：
- 仰角 ≥ 15°（handover 主要候選）: 3-5 顆
- 仰角 ≥ 10°（handover 監測範圍）: 6-8 顆  
- 仰角 ≥ 5°（信號邊緣，低品質）: 8-12 顆
```

**重要修正**：之前估算的 50+ 顆可見衛星不現實。
- **正確數量**：6-8 顆合理可見衛星（仰角 ≥ 10°）
- **3GPP 標準**：一般維持 3-6 個 handover 候選衛星
- **數據規模調整**：從 50×N 降為 8×N，數據量更合理

#### **星座分離原則** (極其重要)
- **不同星座無法互相 handover**：軌道高度、覆蓋模式不同
- **研究方式**：分別分析 Starlink 和 OneWeb 的 handover 行為
- **數據隔離**：每個星座獨立的數據集和分析流程
- **UI 設計**：需要星座切換功能，避免混合顯示

## 🏗️ 系統整體設計原則

### **數據流設計**
1. **歷史 TLE 獲取** → Celestrak 或 Space-Track API
2. **軌道預計算** → SGP4 + PostgreSQL 時間序列存儲
3. **API 查詢服務** → 高效檢索預計算結果
4. **前端時間軸** → 播放、暫停、加速控制
5. **RL 訓練集成** → 為強化學習提供真實歷史場景

### **技術選型**
- **數據庫**：PostgreSQL (time-series optimized)
- **軌道計算**：Skyfield + SGP4
- **後端 API**：FastAPI + asyncio
- **前端**：React + TypeScript + Ant Design
- **容器化**：Docker + docker-compose
- **數據格式**：JSON + 二進制優化存儲

### **研究價值**
- **3GPP NTN 標準驗證**：D2 measurement events 真實模擬
- **強化學習訓練**：提供真實衛星切換場景
- **論文級數據**：支援頂級期刊發表標準
- **系統比較**：多星座間的 handover 行為對比

---

**下一步**: 查看 [architecture.md](./architecture.md) 了解詳細系統架構設計