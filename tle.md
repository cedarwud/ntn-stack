# LEO 衛星換手強化學習研究：數據集準備報告

## 🎯 研究目標與數據需求

### 核心研究問題
本研究針對 LEO 衛星網路中的智能換手決策問題，使用強化學習（RL）方法優化衛星間切換策略。研究重點為在動態衛星環境中實現最佳的服務連續性和網路性能。

### 數據集設計原則
- **真實性優先**：使用真實 TLE 軌道數據，確保研究結果的學術價值
- **時間連續性**：長期數據收集以捕捉軌道演化和週期性模式
- **多星座對比**：Starlink 與 OneWeb 的差異化分析
- **標準化格式**：符合 3GPP NTN 標準的換手場景建模

## 📊 數據收集架構

### 自動化 TLE 數據收集系統
```
每日數據收集流程：
下載 → 驗證 → 實際日期提取 → 智能命名 → 備份管理
```

**技術特點**：
- **智能命名**：基於 TLE epoch 實際日期而非下載日期
- **雙格式支援**：TLE 和 JSON 格式並行收集
- **自動備份**：7天滾動備份，防止數據丟失
- **完整性驗證**：格式檢查、衛星數量驗證、軌道參數合理性檢查

### 數據來源與規模
**Starlink 星座**：
- 衛星數量：~8,000 顆
- 軌道高度：550km
- 軌道傾角：53°
- 每日數據量：~1.3MB (TLE) + ~3.3MB (JSON)

**OneWeb 星座**：
- 衛星數量：~650 顆
- 軌道高度：1,200km
- 軌道傾角：87.4°
- 每日數據量：~110KB (TLE) + ~270KB (JSON)

## 🕐 長期數據收集的必要性

### 45天數據收集策略

#### **軌道動力學週期性**
LEO 衛星軌道具有複雜的週期性特徵：
- **基本軌道週期**：90-120分鐘
- **地面軌跡重複週期**：1-17天（取決於軌道參數）
- **星座配置演化**：數週到數月的長期變化

#### **RL 訓練數據分割**
```
45天數據分配：
├── 訓練集：30天 (67%) - 主要學習期
├── 驗證集：7天 (15%) - 超參數調優
├── 測試集：7天 (15%) - 性能評估
└── 緩衝期：1天 (3%) - 時間重疊處理
```

#### **統計顯著性保證**
- **樣本多樣性**：涵蓋不同時段的衛星配置
- **季節性變化**：捕捉軌道進動和大氣阻力影響
- **異常事件**：包含衛星機動、故障等真實場景

### 數據量估算與存儲
```
45天研究級數據集：
Starlink: 45天 × 2,880時間點 × 8顆可見衛星 = 1,036,800條記錄 (518MB)
OneWeb:   45天 × 2,880時間點 × 5顆可見衛星 = 648,000條記錄 (324MB)
總計：約 842MB 原始數據
```

## 🛰️ 換手場景建模

### 台灣觀測點設定
- **地理位置**：24.94°N, 121.37°E (國立臺北大學)
- **戰略意義**：亞太地區代表性位置，中緯度多軌道覆蓋
- **技術優勢**：海島地形減少地形遮蔽，適合衛星可見性研究

### 可見衛星分層設計
```python
換手決策層級：
├── 主要候選 (仰角 ≥ 15°)：3-5顆 - 信號強度足夠
├── 監測範圍 (仰角 ≥ 10°)：6-8顆 - 符合3GPP NTN標準
├── 潛在候選 (仰角 ≥ 5°)：8-12顆 - 即將進入監測範圍
└── 理論可見 (仰角 ≥ 0°)：15-25顆 - 信號太弱不參與換手
```

### 3GPP NTN 標準符合性
- **測量衛星數**：最多 8 顆
- **換手候選**：3-5 顆
- **同時監測**：6-8 顆
- **信號閾值**：仰角 ≥ 10°

## 🤖 RL 訓練數據格式

### 狀態空間設計
```python
State Vector (每30秒):
├── 當前服務衛星狀態 (仰角、方位角、信號強度、都卜勒頻移)
├── 候選衛星狀態 (最多7顆候選衛星的相同參數)
├── 歷史換手記錄 (過去5分鐘的換手決策)
└── 網路負載指標 (吞吐量、延遲、丟包率)
```

### 動作空間定義
```python
Action Space:
├── 保持當前連接 (action_id: 0)
├── 換手至候選衛星1 (action_id: 1)
├── 換手至候選衛星2 (action_id: 2)
└── ... (最多8個換手選項)
```

### 獎勵函數設計
```python
Reward Function:
R(t) = α×服務連續性 + β×信號品質 + γ×換手成本 + δ×負載均衡
```

## 📈 數據預處理流程

### 軌道計算與預處理
1. **TLE 解析**：提取軌道參數和 epoch 時間
2. **SGP4 傳播**：計算30秒間隔的衛星位置
3. **可見性分析**：基於觀測點計算仰角、方位角
4. **信號建模**：路徑損耗、都卜勒頻移、大氣衰減

### 換手事件標註
```python
Handover Event Detection:
├── 信號強度閾值觸發 (RSRP < -110dBm)
├── 仰角下降觸發 (elevation < 10°)
├── 都卜勒頻移過大 (|Δf| > 50kHz)
└── 預測性換手 (基於軌道預測)
```

### 數據增強策略
- **時間窗口滑動**：重疊時間窗口增加訓練樣本
- **噪聲注入**：模擬測量誤差和環境干擾
- **場景變化**：不同天氣、負載條件的模擬

## 🔬 研究應用場景

### 算法比較研究
- **DQN vs PPO vs A3C**：不同 RL 算法的換手性能比較
- **傳統 vs 智能**：與現有換手算法的性能對比
- **單星座 vs 多星座**：Starlink 與 OneWeb 的差異分析

### 3GPP 事件驗證
- **A4 事件**：鄰居衛星信號強度超過閾值
- **D1 事件**：服務衛星信號強度低於閾值
- **D2 事件**：服務衛星信號品質惡化
- **T1 事件**：基於時間的週期性測量

### 學術貢獻價值
- **頂級期刊適用**：IEEE TCOM、TWC 等期刊的數據真實性要求
- **可重現性**：開源數據集支援研究結果驗證
- **標準化基準**：為 LEO 衛星換手研究提供標準數據集

## 📊 數據集質量保證

### 數據完整性檢查
- **時間連續性**：確保45天數據無缺失
- **格式一致性**：TLE 和 JSON 數據的交叉驗證
- **軌道合理性**：衛星軌道參數的物理合理性檢查

### 統計特徵分析
- **可見衛星分佈**：不同時段的衛星可見性統計
- **換手頻率分析**：典型換手事件的時間分佈
- **覆蓋品質評估**：信號強度和服務連續性指標

## 🎯 預期研究成果

### 技術貢獻
- **智能換手算法**：基於 RL 的自適應換手決策
- **性能基準**：LEO 衛星換手的標準化評估指標
- **系統優化**：網路負載均衡和服務品質提升

### 學術影響
- **期刊論文**：頂級期刊的高影響因子論文發表
- **開源貢獻**：數據集和算法的開源釋出
- **標準制定**：為 6G NTN 標準提供技術參考

---

**總結**：本數據集準備方案通過45天的真實 TLE 數據收集，為 LEO 衛星換手 RL 研究提供了高質量、標準化的訓練數據。長期數據收集確保了軌道週期性的完整捕捉和統計顯著性，為產出高水準學術成果奠定了堅實基礎。