# frontend/Dockerfile

# 1. ä½¿ç”¨å®˜æ–¹ Node.js é¡åƒ (ä¾‹å¦‚ LTS ç‰ˆæœ¬ 20)
FROM node:20-alpine

# 2. è¨­å®šå·¥ä½œç›®éŒ„
WORKDIR /app

# 3. è¤‡è£½ package.json å’Œ lock æ–‡ä»¶ (åˆ©ç”¨ç·©å­˜)
COPY package.json yarn.lock* package-lock.json* ./
# å¦‚æœåªç”¨ npmï¼Œå¯ä»¥åªè¤‡è£½ package.json å’Œ package-lock.json

# 4. å®‰è£ä¾è³´
# å¦‚æœç”¨ yarn:
# RUN yarn install --frozen-lockfile
# å¦‚æœç”¨ npm:
RUN npm install

# ğŸš€ VOLUME-BASED DEVELOPMENT: ä»£ç¢¼é€šéVolumeæ›è¼‰ï¼Œç„¡éœ€è¤‡è£½åˆ°æ˜ åƒæª”
# COPY . .  # å·²ç§»é™¤ - æ‰€æœ‰å‰ç«¯ä»£ç¢¼ä½¿ç”¨Volumeæ›è¼‰

# 6. æš´éœ² Vite é–‹ç™¼ä¼ºæœå™¨ç«¯å£
EXPOSE 5173

# 7. å®¹å™¨å•Ÿå‹•æ™‚é‹è¡Œçš„å‘½ä»¤ (å•Ÿå‹• Vite é–‹ç™¼ä¼ºæœå™¨ä¸¦ç›£è½æ‰€æœ‰åœ°å€)
CMD ["npm", "run", "dev", "--", "--host"]