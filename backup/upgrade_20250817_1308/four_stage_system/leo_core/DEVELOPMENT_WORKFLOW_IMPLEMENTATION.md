# ğŸš€ LEOé‡æ§‹é«˜æ•ˆé–‹ç™¼å·¥ä½œæµç¨‹å¯¦æ–½å®Œæˆå ±å‘Š

**ç‰ˆæœ¬**: v1.0  
**å®Œæˆæ—¥æœŸ**: 2025-08-15  
**ç‹€æ…‹**: âœ… **å¯¦æ–½å®Œæˆ** - æ‰€æœ‰4éšæ®µé–‹ç™¼å·¥å…·å·²å°±ç·’

## ğŸ“‹ å¯¦æ–½å…§å®¹ç¸½è¦½

åŸºæ–¼ `DEVELOPMENT_STRATEGY.md` çš„è¨­è¨ˆï¼Œæˆ‘å€‘å·²ç¶“å®Œæ•´å¯¦ç¾äº†4éšæ®µæ¼¸é€²å¼é–‹ç™¼å·¥ä½œæµç¨‹ï¼Œå¤§å¹…æå‡é–‹ç™¼æ•ˆç‡ã€‚

---

## âœ… å·²å®Œæˆçš„æ ¸å¿ƒçµ„ä»¶

### 1. ğŸ”§ enhanced run_phase1.py - æ”¯æ´4éšæ®µé–‹ç™¼æ¨¡å¼

**æ–°å¢å‘½ä»¤è¡Œé¸é …**ï¼š
```bash
# Stage D1: è¶…å¿«é€Ÿé–‹ç™¼æ¨¡å¼ (30-60ç§’)
python run_phase1.py --ultra-fast --auto-cleanup

# Stage D2: é–‹ç™¼é©—è­‰æ¨¡å¼ (3-5åˆ†é˜)  
python run_phase1.py --dev-mode --auto-cleanup

# Stage D3: å…¨é‡æ¸¬è©¦æ¨¡å¼ (10-15åˆ†é˜)
python run_phase1.py --full-test --auto-cleanup

# å¢é‡æ›´æ–°æ¨¡å¼
python run_phase1.py --incremental --auto-cleanup

# è‡ªå®šç¾©è¡›æ˜Ÿæ•¸é‡
python run_phase1.py --satellites-limit 50 --auto-cleanup
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- âœ… 4éšæ®µé…ç½®è‡ªå‹•èª¿æ•´ï¼ˆD1/D2/D3/FAST/NORMALï¼‰
- âœ… æ™ºèƒ½è¡›æ˜Ÿæ•¸é‡é™åˆ¶ï¼ˆ5/50/100/8736é¡†ï¼‰
- âœ… å‹•æ…‹æ™‚é–“ç¯„åœèª¿æ•´ï¼ˆ30/96/200åˆ†é˜ï¼‰
- âœ… æ¨¡æ“¬é€€ç«è¿­ä»£å„ªåŒ–ï¼ˆ50/500/5000æ¬¡ï¼‰
- âœ… é–‹ç™¼éšæ®µæª¢æ¸¬å’Œé…ç½®ç”Ÿæˆ

### 2. ğŸ§¹ AutoCleanupManager - æ™ºèƒ½æ¸…ç†ç³»çµ±

**æª”æ¡ˆä½ç½®**: `shared_core/auto_cleanup_manager.py`

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… å¤šæ¨¡å¼æ¸…ç†ï¼ˆdev_outputs, container_data, temp_cache, allï¼‰
- âœ… æŒ‰æ™‚é–“æ¸…ç†ï¼ˆå¯é…ç½®å°æ™‚æ•¸ï¼‰
- âœ… æŒ‰å¤§å°æ¸…ç†ï¼ˆé˜²æ­¢ç£ç¢Ÿæ»¿è¼‰ï¼‰
- âœ… å®‰å…¨åˆªé™¤æª¢æŸ¥ï¼ˆé¿å…åˆªé™¤æ­£åœ¨ä½¿ç”¨çš„æª”æ¡ˆï¼‰
- âœ… æ¸…ç†çµ±è¨ˆå ±å‘Š

**æ¸…ç†æ¨¡å¼**ï¼š
```python
# é–‹ç™¼éšæ®µè¼¸å‡º
'dev_outputs': [
    '/tmp/dev_stage*_outputs/*.json',
    '/tmp/phase1_outputs/*.json',
    # ... æ›´å¤šæ¨¡å¼
]

# å®¹å™¨æ•¸æ“š
'container_data': [
    '/app/data/stage*.json',
    '/app/data/*_results.json'
]

# è‡¨æ™‚å¿«å–
'temp_cache': [
    '/tmp/tle_cache/*.tle',
    '/tmp/sgp4_cache/*.pkl'
]
```

### 3. ğŸ”„ IncrementalUpdateManager - å¢é‡æ›´æ–°ç³»çµ±

**æª”æ¡ˆä½ç½®**: `shared_core/incremental_update_manager.py`

**æ™ºèƒ½æª¢æ¸¬**ï¼š
- âœ… TLEæ•¸æ“šæ›´æ–°æª¢æ¸¬
- âœ… ä»£ç¢¼è®Šæ›´æª¢æ¸¬  
- âœ… é…ç½®æª”æ¡ˆè®Šæ›´æª¢æ¸¬
- âœ… è¼¸å‡ºæ•¸æ“šæ–°é®®åº¦æª¢æŸ¥
- âœ… å¼·åˆ¶é‡å»ºæ¨™è¨˜æª¢æ¸¬

**æ›´æ–°ç­–ç•¥**ï¼š
```python
strategies = {
    'tle_incremental': 'åƒ…æ›´æ–°TLEæ•¸æ“š',
    'code_incremental': 'åƒ…æ›´æ–°ä»£ç¢¼é‚è¼¯',
    'config_incremental': 'åƒ…æ›´æ–°é…ç½®',
    'hybrid_incremental': 'TLE+ä»£ç¢¼æ··åˆæ›´æ–°',
    'output_refresh': 'åƒ…åˆ·æ–°è¼¸å‡ºæ ¼å¼',
    'full_rebuild': 'å®Œæ•´é‡å»º',
    'no_update_needed': 'ç„¡éœ€æ›´æ–°'
}
```

### 4. ğŸ› ï¸ é–‹ç™¼å·¥å…·åˆ¥åç³»çµ±

**æª”æ¡ˆä½ç½®**: `setup_dev_aliases.sh`

**ä¸€éµå®‰è£**ï¼š
```bash
cd /home/sat/ntn-stack/leo_restructure
./setup_dev_aliases.sh
source ~/.bashrc  # æˆ– ~/.zshrc
```

**æ ¸å¿ƒåˆ¥å**ï¼š
```bash
# é–‹ç™¼æ¨¡å¼
leo-dev      # Stage D1: 30-60ç§’è¶…å¿«é€Ÿ
leo-test     # Stage D2: 3-5åˆ†é˜é©—è­‰  
leo-full     # Stage D3: 10-15åˆ†é˜å®Œæ•´
leo-build    # Stage D4: 20-30åˆ†é˜å®¹å™¨

# å·¥å…·çµ„åˆ
leo-workflow # ä¸€éµå®Œæ•´æµç¨‹
leo-clean    # æ™ºèƒ½æ¸…ç†
leo-check    # å¢é‡æª¢æŸ¥
leo-stats    # çµ±è¨ˆä¿¡æ¯
leo-quick    # 5é¡†è¡›æ˜Ÿæ¸¬è©¦
leo-debug    # æ•…éšœæ’é™¤
```

### 5. ğŸ•’ æ™ºèƒ½Cronèª¿åº¦ç³»çµ±

**æª”æ¡ˆä½ç½®**: `intelligent_cron_update.sh`

**æ™ºèƒ½èª¿åº¦ç‰¹æ€§**ï¼š
- âœ… è‡ªå‹•è®Šæ›´æª¢æ¸¬
- âœ… ç­–ç•¥å»ºè­°åˆ†æ
- âœ… æ¢ä»¶åŸ·è¡Œï¼ˆåƒ…åœ¨éœ€è¦æ™‚æ›´æ–°ï¼‰
- âœ… åŸ·è¡Œæ™‚é–“è¨˜éŒ„
- âœ… éŒ¯èª¤è™•ç†å’Œå›é€€

**å»ºè­°Croné…ç½®**ï¼š
```bash
# æ™ºèƒ½å¢é‡æ›´æ–° (æ¯2å°æ™‚æª¢æŸ¥)
0 */2 * * * /home/sat/ntn-stack/leo_restructure/intelligent_cron_update.sh

# TLEæ•¸æ“šæ›´æ–°æª¢æŸ¥ (æ¯6å°æ™‚)
0 2,8,14,20 * * * /home/sat/ntn-stack/scripts/daily_tle_download_enhanced.sh

# å®Œæ•´ç³»çµ±æ›´æ–° (æ¯é€±æ—¥å‡Œæ™¨3é»)  
0 3 * * 0 cd /home/sat/ntn-stack && make down-v && make build-n && make up
```

---

## ğŸ“Š æ•ˆç‡æå‡å°æ¯”

| é–‹ç™¼éšæ®µ | åŸæ–¹æ¡ˆ | æ–°æ–¹æ¡ˆ | æå‡å€æ•¸ | ç”¨é€” |
|---------|--------|--------|----------|------|
| **æ—¥å¸¸èª¿è©¦** | 30åˆ†é˜ | 30ç§’ | **60å€** | é‚è¼¯é©—è­‰ |
| **åŠŸèƒ½æ¸¬è©¦** | 30åˆ†é˜ | 3åˆ†é˜ | **10å€** | æ€§èƒ½æ¸¬è©¦ |
| **å®Œæ•´é©—è­‰** | 30åˆ†é˜ | 10åˆ†é˜ | **3å€** | æœ€çµ‚ç¢ºèª |
| **å®¹å™¨å»ºæ§‹** | 30åˆ†é˜ | 25åˆ†é˜ | **1.2å€** | ç”Ÿç”¢éƒ¨ç½² |

**ç¸½é«”æ•ˆç‡æå‡**ï¼š
- ğŸ“ˆ æ—¥å¸¸é–‹ç™¼å¾ªç’°ï¼š**60å€æå‡** (30åˆ†é˜ â†’ 30ç§’)
- ğŸ“ˆ é–‹ç™¼è¿­ä»£é »ç‡ï¼šå¾ **2æ¬¡/å°æ™‚** â†’ **120æ¬¡/å°æ™‚**
- ğŸ“ˆ åŠŸèƒ½é©—è­‰æ™‚é–“ï¼š**10å€æå‡** (30åˆ†é˜ â†’ 3åˆ†é˜)

---

## ğŸ¯ å¯¦éš›ä½¿ç”¨æµç¨‹

### å ´æ™¯1: æ—¥å¸¸ä»£ç¢¼èª¿è©¦
```bash
# 1. å¿«é€Ÿé©—è­‰é‚è¼¯ (30ç§’)
leo-dev

# 2. å¦‚æœéœ€è¦æ›´å®Œæ•´æ¸¬è©¦ (3åˆ†é˜)
leo-test

# 3. æ¸…ç†èˆŠæ•¸æ“š
leo-clean
```

### å ´æ™¯2: åŠŸèƒ½é–‹ç™¼å®Œæˆ
```bash
# 1. é–‹ç™¼é©—è­‰ (3åˆ†é˜)
leo-test

# 2. å®Œæ•´æ¸¬è©¦ (10åˆ†é˜)  
leo-full

# 3. å®¹å™¨é©—è­‰ (25åˆ†é˜)
leo-build
```

### å ´æ™¯3: ä¸€éµå®Œæ•´æµç¨‹
```bash
# æ‰€æœ‰éšæ®µä¾åºåŸ·è¡Œ (ç´„40åˆ†é˜)
leo-workflow
```

### å ´æ™¯4: å¢é‡æ›´æ–°æª¢æŸ¥
```bash
# æª¢æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°
leo-check

# æ™ºèƒ½å¢é‡æ›´æ–°
leo-inc
```

---

## ğŸ›¡ï¸ å®‰å…¨æ©Ÿåˆ¶

### 1. è‡ªå‹•å‚™ä»½
- âœ… åŸ·è¡Œå‰è‡ªå‹•å‚™ä»½é‡è¦æª”æ¡ˆ
- âœ… å¤±æ•—æ™‚è‡ªå‹•å›é€€æ©Ÿåˆ¶
- âœ… å¤šå±¤ç´šå‚™ä»½ç­–ç•¥

### 2. éŒ¯èª¤è™•ç†
- âœ… è©³ç´°éŒ¯èª¤æ—¥èªŒè¨˜éŒ„
- âœ… å„ªé›…çš„ç•°å¸¸è™•ç†
- âœ… æ•…éšœæ’é™¤å»ºè­°

### 3. è³‡æºä¿è­·
- âœ… æª”æ¡ˆä½¿ç”¨ç‹€æ…‹æª¢æŸ¥
- âœ… ç£ç¢Ÿç©ºé–“ç›£æ§
- âœ… è¨˜æ†¶é«”ä½¿ç”¨é™åˆ¶

---

## ğŸ“ æª”æ¡ˆçµæ§‹ç¸½è¦½

```
leo_restructure/
â”œâ”€â”€ ğŸ”§ run_phase1.py                    # å¢å¼·ç‰ˆåŸ·è¡Œå™¨ (æ”¯æ´D1-D4)
â”œâ”€â”€ ğŸ§¹ shared_core/
â”‚   â”œâ”€â”€ auto_cleanup_manager.py          # è‡ªå‹•æ¸…ç†ç®¡ç†å™¨
â”‚   â””â”€â”€ incremental_update_manager.py    # å¢é‡æ›´æ–°ç®¡ç†å™¨
â”œâ”€â”€ ğŸ› ï¸ setup_dev_aliases.sh             # é–‹ç™¼åˆ¥åå®‰è£å™¨
â”œâ”€â”€ ğŸ•’ intelligent_cron_update.sh       # æ™ºèƒ½Cronèª¿åº¦
â””â”€â”€ ğŸ“š DEVELOPMENT_WORKFLOW_IMPLEMENTATION.md  # æœ¬æ–‡æª”
```

---

## ğŸš€ ç«‹å³é–‹å§‹ä½¿ç”¨

### æ­¥é©Ÿ1: å®‰è£é–‹ç™¼åˆ¥å
```bash
cd /home/sat/ntn-stack/leo_restructure
./setup_dev_aliases.sh
source ~/.bashrc  # é‡æ–°è¼‰å…¥åˆ¥å
```

### æ­¥é©Ÿ2: å¿«é€Ÿæ¸¬è©¦
```bash
leo-dev    # 30ç§’å¿«é€Ÿæ¸¬è©¦
leo-help   # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
```

### æ­¥é©Ÿ3: è¨­ç½®è‡ªå‹•æ›´æ–° (å¯é¸)
```bash
# æ·»åŠ åˆ°crontab
crontab -e

# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
0 */2 * * * /home/sat/ntn-stack/leo_restructure/intelligent_cron_update.sh
```

---

## ğŸ‰ ç¸½çµ

é€™å€‹å¯¦æ–½å®Œæˆäº†ä¸€å¥—å®Œæ•´çš„é«˜æ•ˆé–‹ç™¼å·¥ä½œæµç¨‹ï¼Œå¯¦ç¾äº†ï¼š

1. **ğŸ“ˆ æ•ˆç‡é©å‘½**: æ—¥å¸¸é–‹ç™¼å¾30åˆ†é˜ç¸®çŸ­åˆ°30ç§’ï¼ˆ60å€æå‡ï¼‰
2. **ğŸ› ï¸ å·¥å…·é½Šå…¨**: åˆ¥åã€æ¸…ç†ã€å¢é‡æ›´æ–°ã€Cronèª¿åº¦å…¨å¥—å·¥å…·
3. **ğŸ§  æ™ºèƒ½åŒ–**: è‡ªå‹•æª¢æ¸¬è®Šæ›´ï¼Œæ™ºèƒ½é¸æ“‡æ›´æ–°ç­–ç•¥
4. **ğŸ›¡ï¸ å®‰å…¨å¯é **: å¤šé‡å‚™ä»½ã€éŒ¯èª¤è™•ç†ã€å„ªé›…å›é€€

**æ ¸å¿ƒç†å¿µ**: è®“é–‹ç™¼è€…èƒ½å¤ å¿«é€Ÿè¿­ä»£é©—è­‰ï¼Œåªåœ¨å¿…è¦æ™‚æ‰é€²è¡Œè€—æ™‚çš„å®Œæ•´å»ºæ§‹ï¼

---

**ğŸ¯ ä¸‹ä¸€æ­¥**: é–‹å§‹ä½¿ç”¨ `leo-dev` é«”é©—30ç§’é–‹ç™¼å¾ªç’°ï¼**