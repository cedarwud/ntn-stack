# ğŸ¯ éšæ®µäºŒï¼šæ™ºèƒ½è¡›æ˜Ÿç¯©é¸

[ğŸ”„ è¿”å›æ•¸æ“šæµç¨‹å°èˆª](../data-flow-index.md) > éšæ®µäºŒ

## ğŸ“– éšæ®µæ¦‚è¿°

**ç›®æ¨™**ï¼šå¾ 8,735 é¡†è¡›æ˜Ÿæ™ºèƒ½ç¯©é¸è‡³ 563 é¡†é«˜å“è³ªå€™é¸è¡›æ˜Ÿ  
**è¼¸å…¥**ï¼šéšæ®µä¸€è¨˜æ†¶é«”å‚³éçš„è»Œé“è¨ˆç®—çµæœ  
**è¼¸å‡º**ï¼šè¨˜æ†¶é«”å‚³éçµ¦éšæ®µä¸‰ï¼ˆé¿å… 2.4GB æª”æ¡ˆå•é¡Œï¼‰  
**ç¯©é¸ç‡**ï¼š93.6% å¤§å¹…æ¸›å°‘å¾ŒçºŒè¨ˆç®—è² è·  
**è™•ç†æ™‚é–“**ï¼šç´„ 1-2 åˆ†é˜

### ğŸš€ v3.0 è¨˜æ†¶é«”å‚³éæ¨¡å¼

- **å•é¡Œè§£æ±º**ï¼šé¿å…ç”Ÿæˆ 2.4GB ç¯©é¸çµæœæª”æ¡ˆ
- **å‚³éæ–¹å¼**ï¼šç›´æ¥å°‡ç¯©é¸çµæœåœ¨è¨˜æ†¶é«”ä¸­å‚³éçµ¦éšæ®µä¸‰
- **æ•ˆèƒ½æå‡**ï¼šæ¶ˆé™¤å¤§æª”æ¡ˆI/Oï¼Œæ¸›å°‘ç£ç¢Ÿç©ºé–“ä½¿ç”¨

## ğŸ§  æ™ºèƒ½ç¯©é¸æ¼”ç®—æ³•

### å…­éšæ®µç¯©é¸ç®¡ç·š

1. **åŸºç¤åœ°ç†ç¯©é¸** (8,735 â†’ ~2,500)
   - æ’é™¤æ°¸é ä¸å¯è¦‹çš„è¡›æ˜Ÿ
   - åŸºæ–¼è»Œé“å‚¾è§’å’Œé«˜åº¦åˆ¤æ–·

2. **å¯è¦‹æ€§æ™‚é–“ç¯©é¸** (~2,500 â†’ ~1,200)
   - è¨ˆç®—æ¯é¡†è¡›æ˜Ÿçš„ç¸½å¯è¦‹æ™‚é–“
   - ä¿ç•™å¯è¦‹æ™‚é–“ > 15åˆ†é˜çš„è¡›æ˜Ÿ

3. **ä»°è§’å“è³ªç¯©é¸** (~1,200 â†’ ~800)
   - ä¿ç•™æœ€é«˜ä»°è§’ > 10Â° çš„è¡›æ˜Ÿ
   - ç¢ºä¿ä¿¡è™Ÿå“è³ªåŸºæœ¬è¦æ±‚

4. **æœå‹™é€£çºŒæ€§ç¯©é¸** (~800 â†’ ~650)
   - åˆ†æè¡›æ˜Ÿæœå‹™æ™‚é–“åˆ†ä½ˆ
   - ä¿ç•™èƒ½æä¾›é€£çºŒæœå‹™çš„è¡›æ˜Ÿ

5. **ä¿¡è™Ÿå“è³ªé è©•ä¼°** (~650 â†’ ~580)
   - åŸºæ–¼è·é›¢å’Œä»°è§’é ä¼°RSRP
   - æ’é™¤ä¿¡è™Ÿéå¼±çš„è¡›æ˜Ÿ

6. **è² è¼‰å¹³è¡¡æœ€ä½³åŒ–** (~580 â†’ 563)
   - ç¢ºä¿æ˜Ÿåº§é–“è² è¼‰å¹³è¡¡
   - Starlink: ~450é¡†, OneWeb: ~113é¡†

## ğŸ—ï¸ æ ¸å¿ƒè™•ç†å™¨æ¶æ§‹

### ä¸»è¦å¯¦ç¾ä½ç½®
```bash
# æ™ºèƒ½ç¯©é¸å™¨
/netstack/src/services/satellite/preprocessing/satellite_selector.py
â”œâ”€â”€ SatelliteSelector.apply_intelligent_filtering()     # ä¸»ç¯©é¸é‚è¼¯
â”œâ”€â”€ SatelliteSelector._geographical_filtering()         # åœ°ç†ç¯©é¸
â”œâ”€â”€ SatelliteSelector._visibility_time_filtering()      # å¯è¦‹æ€§ç¯©é¸
â”œâ”€â”€ SatelliteSelector._elevation_quality_filtering()    # ä»°è§’å“è³ªç¯©é¸
â””â”€â”€ SatelliteSelector._load_balancing_optimization()    # è² è¼‰å¹³è¡¡

# åŸºç¤ç¯©é¸æ”¯æ´
/netstack/config/satellite_data_pool_builder.py        # åŸºç¤è¡›æ˜Ÿæ± å»ºæ§‹
```

## ğŸ¯ ç¯©é¸æº–å‰‡è©³ç´°èªªæ˜

### å¯è¦‹æ€§æº–å‰‡
- **æœ€ä½ä»°è§’**ï¼š5Â° (Starlink), 10Â° (OneWeb)
- **æœ€ä½å¯è¦‹æ™‚é–“**ï¼šç´¯è¨ˆ15åˆ†é˜ä»¥ä¸Š
- **æœå‹™çª—å£**ï¼šè‡³å°‘3å€‹ç¨ç«‹å¯è¦‹çª—å£

### ä¿¡è™Ÿå“è³ªé ä¼°
- **RSRPé–€æª»**ï¼šâ‰¥ -110 dBm (åŸºæ–¼è‡ªç”±ç©ºé–“è·¯å¾‘æè€—)
- **è·é›¢é™åˆ¶**ï¼šâ‰¤ 2,000 km
- **éƒ½åœå‹’é »ç§»**ï¼šâ‰¤ Â±40 kHz

### è² è¼‰å¹³è¡¡ç­–ç•¥
```python
# æ˜Ÿåº§åˆ†é…æ¯”ä¾‹
target_ratios = {
    'starlink': 0.80,  # ~450é¡† (80%)
    'oneweb': 0.20     # ~113é¡† (20%)
}
```

## âš¡ æ€§èƒ½æœ€ä½³åŒ–

### è¨˜æ†¶é«”æœ€ä½³åŒ–
- **æ‰¹æ¬¡è™•ç†**ï¼šæ¯æ¬¡è™•ç†500é¡†è¡›æ˜Ÿ
- **è¨˜æ†¶é«”å›æ”¶**ï¼šåŠæ™‚æ¸…ç†ä¸­é–“çµæœ
- **æ•¸æ“šå£“ç¸®**ï¼šä½¿ç”¨é«˜æ•ˆçš„æ•¸æ“šçµæ§‹

### æ¼”ç®—æ³•æœ€ä½³åŒ–
- **é å…ˆæ’åº**ï¼šæŒ‰å¯è¦‹æ€§æ©Ÿç‡æ’åº
- **æ—©æœŸçµ‚æ­¢**ï¼šé”åˆ°ç›®æ¨™æ•¸é‡å³åœæ­¢
- **ä¸¦è¡Œè™•ç†**ï¼šæ”¯æ´å¤šåŸ·è¡Œç·’è¨ˆç®—

## ğŸ“Š ç¯©é¸çµæœçµ±è¨ˆ

### é æœŸè¼¸å‡ºåˆ†ä½ˆ
```
ç¸½è¨ˆï¼š563é¡†è¡›æ˜Ÿ
â”œâ”€â”€ Starlink: ~450é¡† (80%)
â”‚   â”œâ”€â”€ é«˜ä»°è§’ (>30Â°): ~150é¡†
â”‚   â”œâ”€â”€ ä¸­ä»°è§’ (15-30Â°): ~200é¡†
â”‚   â””â”€â”€ ä½ä»°è§’ (5-15Â°): ~100é¡†
â””â”€â”€ OneWeb: ~113é¡† (20%)
    â”œâ”€â”€ é«˜ä»°è§’ (>30Â°): ~40é¡†
    â”œâ”€â”€ ä¸­ä»°è§’ (15-30Â°): ~50é¡†
    â””â”€â”€ ä½ä»°è§’ (10-15Â°): ~23é¡†
```

## ğŸ”§ é…ç½®åƒæ•¸

```python
# ç¯©é¸åƒæ•¸
FILTERING_CONFIG = {
    'starlink': {
        'min_elevation_deg': 5.0,
        'min_visible_time_min': 15.0,
        'target_count': 450
    },
    'oneweb': {
        'min_elevation_deg': 10.0,
        'min_visible_time_min': 15.0,
        'target_count': 113
    }
}
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **ç¯©é¸æ•¸é‡ä¸è¶³**
   - æª¢æŸ¥ï¼šé™ä½ç¯©é¸é–€æª»
   - è§£æ±ºï¼šèª¿æ•´ min_elevation_deg æˆ– min_visible_time_min

2. **æ˜Ÿåº§æ¯”ä¾‹å¤±è¡¡**
   - æª¢æŸ¥ï¼šå„æ˜Ÿåº§åŸå§‹æ•¸æ“šé‡
   - è§£æ±ºï¼šèª¿æ•´ target_count æ¯”ä¾‹

3. **è¨˜æ†¶é«”ä½¿ç”¨éé«˜**
   - æª¢æŸ¥ï¼šbatch_size è¨­å®š
   - è§£æ±ºï¼šæ¸›å°‘æ‰¹æ¬¡è™•ç†å¤§å°

### è¨ºæ–·æŒ‡ä»¤

```bash
# æª¢æŸ¥ç¯©é¸çµ±è¨ˆ
python -c "
from src.services.satellite.preprocessing.satellite_selector import *
print('ç¯©é¸å™¨æ¨¡çµ„è¼‰å…¥æˆåŠŸ')
"

# é©—è­‰è¨˜æ†¶é«”ä½¿ç”¨
top -p $(pgrep -f satellite_orbit_preprocessor) -n 1
```

---
**ä¸Šä¸€éšæ®µ**: [éšæ®µä¸€ï¼šTLEè¼‰å…¥](./stage1-tle-loading.md)  
**ä¸‹ä¸€éšæ®µ**: [éšæ®µä¸‰ï¼šä¿¡è™Ÿåˆ†æ](./stage3-signal.md)  
**ç›¸é—œæ–‡æª”**: [æ™ºèƒ½ç¯©é¸æ¼”ç®—æ³•è©³è§£](../algorithms_implementation.md#æ™ºèƒ½ç¯©é¸)
