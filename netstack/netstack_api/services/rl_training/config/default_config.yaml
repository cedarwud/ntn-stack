# ğŸ§  NetStack RL ç³»çµ±é è¨­é…ç½®
# LEO è¡›æ˜Ÿæ›æ‰‹æ±ºç­–å¼·åŒ–å­¸ç¿’ç³»çµ±
# åŸºæ–¼ä¸–ç•Œç´šç ”ç©¶æ¨™æº–è¨­è¨ˆ

# ===== ç³»çµ±é…ç½® =====
system:
  environment: "development"  # development, testing, production
  log_level: "INFO"           # DEBUG, INFO, WARNING, ERROR
  
  # è³‡æ–™åº«é…ç½®
  database_url: "postgresql://postgres:netstack2024@localhost:5432/rl_system"
  redis_url: "redis://localhost:6379/0"
  
  # å­˜å„²é…ç½®
  model_storage_path: "./rl_models"
  data_export_path: "./exports"
  backup_path: "./backups"
  
  # æœå‹™é…ç½®
  enable_monitoring: true
  enable_web_ui: true
  enable_realtime_streaming: true
  api_rate_limit: 1000
  max_concurrent_training: 3
  
  # ç ”ç©¶é…ç½®
  paper_export_enabled: true
  baseline_comparison_enabled: true
  statistical_analysis_enabled: true

# ===== å¼·åŒ–å­¸ç¿’ç®—æ³•é…ç½® =====
handover_algorithms:
  reinforcement_learning:
    # DQN - Deep Q-Network
    dqn:
      algorithm_type: "DQN"
      enabled: true
      scenarios: ["urban", "suburban", "low_latency"]
      
      hyperparameters:
        learning_rate: 0.001
        batch_size: 32
        gamma: 0.99
        epsilon: 1.0
        epsilon_min: 0.01
        epsilon_decay: 0.995
        target_update_freq: 100
        memory_size: 10000
        hidden_layers: [64, 64]
        state_dim: 10
        action_dim: 5
      
      training:
        max_episodes: 1000
        max_steps_per_episode: 500
        convergence_threshold: 0.8
        early_stopping: true
        checkpoint_interval: 100
      
      deployment:
        auto_deploy: false
        validation_required: true
        performance_threshold: 0.75
        
    # PPO - Proximal Policy Optimization  
    ppo:
      algorithm_type: "PPO"
      enabled: true
      scenarios: ["urban", "low_latency", "high_mobility"]
      
      hyperparameters:
        learning_rate: 0.0003
        batch_size: 64
        gamma: 0.99
        clip_epsilon: 0.2
        value_coef: 0.5
        entropy_coef: 0.01
        gae_lambda: 0.95
        hidden_layers: [128, 64]
        
      training:
        max_episodes: 1500
        max_steps_per_episode: 1000
        update_frequency: 2048
        
    # SAC - Soft Actor-Critic
    sac:
      algorithm_type: "SAC"
      enabled: false  # é è¨­ç¦ç”¨ï¼Œå¯æŒ‰éœ€å•Ÿç”¨
      scenarios: ["suburban", "high_mobility", "dense_network"]
      
      hyperparameters:
        learning_rate: 0.0001
        batch_size: 128
        gamma: 0.99
        tau: 0.005
        alpha: 0.2
        target_update_interval: 1
        
      training:
        max_episodes: 2000
        max_steps_per_episode: 1000

# ===== è¨“ç·´èª¿åº¦é…ç½® =====
training_scheduler:
  strategy: "priority"  # fifo, priority, resource_aware, round_robin
  max_concurrent_jobs: 3
  resource_constraints:
    max_cpu_usage_percent: 80.0
    max_memory_usage_percent: 80.0
    max_gpu_usage_percent: 90.0
    max_queue_size: 50
  
  priority_weights:
    paper_experiments: 1    # æœ€é«˜å„ªå…ˆç´š
    production_training: 2
    development_testing: 3
    background_research: 4

# ===== æ€§èƒ½ç›£æ§é…ç½® =====
performance_monitoring:
  enabled: true
  collection_interval_seconds: 30
  retention_days: 90
  
  metrics:
    - "reward"
    - "latency" 
    - "throughput"
    - "success_rate"
    - "convergence_time"
    - "memory_usage"
    - "handover_count"
    
  alerting:
    enabled: true
    email_notifications: false
    slack_webhook: ""
    
  real_time_streaming:
    enabled: true
    websocket_port: 8765
    max_connections: 100

# ===== ç ”ç©¶èˆ‡è«–æ–‡é…ç½® =====
research:
  baseline_algorithms:
    - name: "random_selection"
      description: "éš¨æ©Ÿè¡›æ˜Ÿé¸æ“‡åŸºæº–"
    - name: "signal_strength_based"  
      description: "åŸºæ–¼ä¿¡è™Ÿå¼·åº¦çš„å‚³çµ±ç®—æ³•"
    - name: "load_balancing"
      description: "è² è¼‰å‡è¡¡ç®—æ³•"
      
  paper_export:
    formats: ["csv", "json", "latex"]
    include_statistical_tests: true
    confidence_level: 0.95
    
  experiment_tracking:
    enabled: true
    auto_versioning: true
    metadata_collection: true

# ===== å ´æ™¯ç‰¹å®šé…ç½® =====
scenarios:
  urban:
    description: "åŸå¸‚å¯†é›†ç¶²è·¯å ´æ™¯"
    characteristics:
      user_density: "high"
      mobility_pattern: "mixed"
      handover_frequency: "high"
      latency_requirement: "medium"
    
    environment_parameters:
      satellite_count: 66  # Starlink constellation
      elevation_angle_min: 25
      coverage_overlap: 0.3
      
  suburban:
    description: "éƒŠå€ç©©å®šç¶²è·¯å ´æ™¯"
    characteristics:
      user_density: "medium"
      mobility_pattern: "vehicular"
      handover_frequency: "medium" 
      latency_requirement: "medium"
      
  low_latency:
    description: "ä½å»¶é²é—œéµæ‡‰ç”¨å ´æ™¯"
    characteristics:
      user_density: "low"
      mobility_pattern: "stationary"
      handover_frequency: "low"
      latency_requirement: "critical"
      
  high_mobility:
    description: "é«˜é€Ÿç§»å‹•å ´æ™¯ï¼ˆå¦‚é«˜éµã€é£›æ©Ÿï¼‰"
    characteristics:
      user_density: "low"
      mobility_pattern: "high_speed"
      handover_frequency: "very_high"
      latency_requirement: "medium"
      
  dense_network:
    description: "å¯†é›†ç¶²è·¯è¦†è“‹å ´æ™¯"
    characteristics:
      user_density: "very_high"
      mobility_pattern: "pedestrian"
      handover_frequency: "high"
      latency_requirement: "high"

# ===== Web UI é…ç½® =====
web_ui:
  enabled: true
  host: "localhost"
  port: 8080
  
  features:
    real_time_dashboard: true
    training_monitoring: true
    algorithm_comparison: true
    experiment_management: true
    paper_export_tools: true
    
  authentication:
    enabled: false  # é–‹ç™¼ç’°å¢ƒé—œé–‰
    session_timeout_minutes: 60

# ===== API é…ç½® =====
api:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  
  cors:
    enabled: true
    origins: ["http://localhost:3000", "http://localhost:8080"]
    
  rate_limiting:
    enabled: true
    requests_per_minute: 1000
    
  documentation:
    enabled: true
    openapi_url: "/api/v1/openapi.json"
    docs_url: "/api/v1/docs"

# ===== æ—¥èªŒé…ç½® =====
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  handlers:
    console:
      enabled: true
      level: "INFO"
      
    file:
      enabled: true
      filename: "logs/rl_system.log"
      max_size_mb: 100
      backup_count: 5
      
    structured:
      enabled: true
      filename: "logs/structured.json"
      
  loggers:
    "rl_system": "DEBUG"
    "uvicorn": "INFO"
    "sqlalchemy": "WARNING"

# ===== å®‰å…¨é…ç½® =====
security:
  secret_key: "your-secret-key-change-in-production"
  api_key_required: false
  
  encryption:
    enabled: false
    algorithm: "AES-256-GCM"
    
  backup:
    encryption_enabled: true
    retention_days: 30

# ===== é–‹ç™¼å·¥å…·é…ç½® =====
development:
  debug_mode: true
  hot_reload: true
  profiling_enabled: false
  
  mock_services:
    enabled: true
    mock_database: false
    mock_redis: false
    
  testing:
    test_data_path: "./test_data"
    integration_tests_enabled: true